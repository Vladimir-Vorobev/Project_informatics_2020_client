(function(t){function e(e){for(var a,o,r=e[0],l=e[1],d=e[2],p=0,u=[];p<r.length;p++)o=r[p],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&u.push(i[o][0]),i[o]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);c&&c(e);while(u.length)u.shift()();return n.push.apply(n,d||[]),s()}function s(){for(var t,e=0;e<n.length;e++){for(var s=n[e],a=!0,r=1;r<s.length;r++){var l=s[r];0!==i[l]&&(a=!1)}a&&(n.splice(e--,1),t=o(o.s=s[0]))}return t}var a={},i={app:0},n=[];function o(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=t,o.c=a,o.d=function(t,e,s){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(s,a,function(e){return t[e]}.bind(null,a));return s},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=e,r=r.slice();for(var d=0;d<r.length;d++)e(r[d]);var c=l;n.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"034f":function(t,e,s){"use strict";var a=s("85ec"),i=s.n(a);i.a},"08fa":function(t,e,s){},"0f6f":function(t,e,s){},"165f":function(t,e,s){},"1d2e":function(t,e,s){"use strict";var a=s("08fa"),i=s.n(a);i.a},"29b9":function(t,e,s){"use strict";var a=s("0f6f"),i=s.n(a);i.a},"2a98":function(t,e,s){"use strict";var a=s("33cc"),i=s.n(a);i.a},"2c5e":function(t,e,s){},"33cc":function(t,e,s){},"3c81":function(t,e,s){t.exports=s.p+"img/logos.13d24fcd.png"},"3dcb":function(t,e,s){"use strict";var a=s("165f"),i=s.n(a);i.a},"3e0b":function(t,e,s){},"56d7":function(t,e,s){"use strict";s.r(e);s("e260"),s("e6cf"),s("cca6"),s("a79d");var a=s("2b0e"),i=s("8c4f"),n=s("2f62"),o={state:{email:"",role:"",SessionID:"",serverIp:"https://sakhalinwebserver.tk",socketIp:"https://sakhalinwebserver.tk"},mutations:{GET_USER_EMAIL:function(t,e){t.email=e},GET_USER_SESSIONID:function(t,e){t.SessionID=e},GET_USER_ROLE:function(t,e){t.role=e}},getters:{email:function(t){return t.email},SessionID:function(t){return t.SessionID},role:function(t){return t.role}}},r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticStyle:{height:"100% !important"},attrs:{id:"app"}},[s("nav-bar"),s("router-view")],1)},l=[],d=(s("4d63"),s("ac1f"),s("25f0"),s("466d"),s("5319"),s("5530")),c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",{staticClass:"navbar navbar-expand-lg navbar-light  fixed-top navStyle"},[a("router-link",{staticClass:"router-link",attrs:{to:"/"}},[a("a",{ref:"home",staticClass:"navbar-brand",staticStyle:{color:"#f23333"}},[t._v("KorpStandard")])]),a("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},on:{click:function(e){return t.animate_toggler()}}},[t._m(0)]),a("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarSupportedContent"},on:{click:function(e){return t.animate_navbar()}}},[a("ul",{staticClass:"navbar-nav mr-auto"},[a("li",{staticClass:"nav-item"},["admin"!=this.$store.getters.role?a("router-link",{staticClass:"router-link",attrs:{to:"/"}},[a("a",{staticClass:"nav-link"},[t._v("Мои карточки")])]):t._e()],1),a("li",{staticClass:"nav-item"},["admin"!=this.$store.getters.role?a("router-link",{staticClass:"router-link",attrs:{to:"/add-card"}},[a("a",{staticClass:"nav-link"},[t._v("Добавить карточку")])]):t._e()],1),a("li",{staticClass:"nav-item"},["admin"==this.$store.getters.role?a("router-link",{staticClass:"router-link",attrs:{to:"/"}},[a("a",{staticClass:"nav-link"},[t._v("Все карточки")])]):t._e()],1),a("li",{staticClass:"nav-item"},["admin"==this.$store.getters.role?a("router-link",{staticClass:"router-link",attrs:{to:"/filter-card"}},[a("a",{staticClass:"nav-link"},[t._v("Общая карточка с фильтрами")])]):t._e()],1),a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"router-link",attrs:{to:"/partners"}},[a("a",{staticClass:"nav-link"},[t._v("Наши партнеры")])])],1)]),a("img",{staticStyle:{"margin-left":"auto","margin-right":"auto"},attrs:{src:s("3c81"),alt:""}}),a("router-link",{staticClass:"router-link login ml-auto",staticStyle:{display:"block"},attrs:{to:"/login"}},[a("a",{ref:"login",staticClass:"btn btn-rounded-blue btn-lg",attrs:{type:"button"}},[t._v(t._s(t.loginText))])]),a("div",{staticClass:"dropdown person_menu",staticStyle:{display:"none"}},[a("button",{staticClass:"btn btn-rounded-blue dropdown-toggle user",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v(" "+t._s(t.loginText)+" ")]),a("div",{staticClass:"dropdown-menu dropdown-menu-right",attrs:{"aria-labelledby":"dropdownMenuButton"}},[a("router-link",{staticClass:"router-link",attrs:{to:"/profile"}},[a("a",{staticClass:"dropdown-item"},[t._v("Сменить пароль")])]),"admin"==t.role?a("div",[a("router-link",{staticClass:"router-link",attrs:{to:"/admin"}},[a("a",{staticClass:"dropdown-item"},[t._v("Добавить пользователя")])])],1):t._e(),a("div",{staticClass:"dropdown-divider"}),a("button",{staticClass:"dropdown-item exit personMenuDrop",attrs:{href:"#"},on:{click:function(e){return t.exit()}}},[t._v("Выйти")])],1)])],1)],1)},p=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"anim-bar-dark anim-2"},[s("span",{staticClass:"icon-bar"}),s("span",{staticClass:"icon-bar"}),s("span",{staticClass:"icon-bar"})])}],u=(s("d3b7"),s("3d20")),h=s.n(u),m={name:"Navbar",data:function(){return{loginText:"Войти",role:""}},beforeMount:function(){var t=this,e=this.$store.getters.email,s=this.$store.getters.SessionID;""!=e&&fetch(this.$store.state.serverIp+"/api/getInformation",{method:"POST",body:JSON.stringify({email:e,sessionid:s}),headers:{"Content-Type":"application/json"}}).then((function(e){"310"==e.data&&(document.cookie="email=;expires=Thu, 01 Jan 1970 00:00:01 GMT",document.cookie="SessionID=;expires=Thu, 01 Jan 1970 00:00:01 GMT",window.location.reload()),void 0!=t.$store.state.email&&(t.loginText=t.$store.state.email,t.role=t.$store.state.role,document.querySelector(".login").style.display="none",document.querySelector(".person_menu").style.display="block")})).catch((function(t){console.log(t),h.a.fire({icon:"error",title:"На сервере проходят технические работы, приносим свои извинения за доставленные неудобства",allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1})}))},methods:{exit:function(){document.cookie="email=;expires=Thu, 01 Jan 1970 00:00:01 GMT",document.cookie="SessionID=;expires=Thu, 01 Jan 1970 00:00:01 GMT",document.cookie="role=;expires=Thu, 01 Jan 1970 00:00:01 GMT",window.location.reload(),document.location.href="/login"},animate_navbar:function(){0==event.target.classList.contains("useful")&&0==event.target.classList.contains("user")&&(document.querySelector(".navbar-collapse").classList.remove("show"),document.querySelector(".navbar-toggler").classList.remove("active"))},animate_toggler:function(){document.querySelector(".navbar-toggler").classList.toggle("active")}}},_=m,g=(s("1d2e"),s("2877")),v=Object(g["a"])(_,c,p,!1,null,"36d183f6",null),f=v.exports,y={name:"App",components:{NavBar:f},computed:Object(d["a"])({},Object(n["b"])(["email","SessionID"])),beforeCreate:function(){this.$store.commit("GET_USER_EMAIL",b("email")),this.$store.commit("GET_USER_SESSIONID",b("SessionID")),this.$store.commit("GET_USER_ROLE",b("role"))}};function b(t){var e=document.cookie.match(new RegExp("(?:^|; )"+t.replace(/([.$?*|{}()[]\/+^])/g,"\\$1")+"=([^;]*)"));return e?decodeURIComponent(e[1]):void 0}var w=y,C=(s("034f"),Object(g["a"])(w,r,l,!1,null,null,null)),x=C.exports,k=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"main"},[s("div",{staticClass:"container warp"},[s("form",{staticClass:"formbox needs-validation",attrs:{novalidate:""}},[s("h2",[t._v("Войти")]),t._m(0),t._m(1),s("div",{staticClass:"form-label-group input-group"},[s("input",{staticClass:"form-control formInput",attrs:{type:"password",id:"password",name:"password",placeholder:"Пароль",required:""}}),s("div",{staticClass:"input-group-append",staticStyle:{cursor:"pointer"},on:{click:function(e){return t.showHidePwd()}}},[t._m(2)])]),s("div",{staticClass:"form-row"},[s("button",{staticClass:"btn btn-rounded-blue btn-lg",on:{click:function(e){return t.loginUser()}}},[t._v("Войти")])])]),t._v(" "),s("br")]),s("div",{staticClass:"footer"},[s("Footer")],1)])},S=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"form-group",staticStyle:{"text-align":"left"}},[s("label",{attrs:{for:"exampleInputEmail1"}},[t._v("Логин")]),s("input",{staticClass:"form-control formInput",attrs:{name:"text",id:"email",placeholder:"Логин",required:""}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticStyle:{"text-align":"left"}},[s("label",{attrs:{for:"password"}},[t._v("Пароль")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"input-group-text showHidePwd"},[s("i",{staticClass:"far fa-eye-slash",attrs:{id:"eye"}})])}],I=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},B=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("footer")])}],E={name:"Footer"},M=E,T=(s("7ea4"),Object(g["a"])(M,I,B,!1,null,"5f9b178c",null)),P=T.exports,$={name:"MainPage",components:{Footer:P},methods:{loginUser:function(){event.preventDefault();var t=document.forms[0],e=t.elements.email.value,s=t.elements.password.value;fetch(this.$store.state.serverIp+"/api/login",{method:"POST",body:JSON.stringify({email:e,password:s}),headers:{"Content-Type":"application/json"}}).then((function(t){return t.json()})).then((function(t){"Incorect password"==t.data?h.a.fire({icon:"error",text:"Неверный логин или пароль"}):"User undefined"==t.data?h.a.fire({icon:"error",text:"Пользователь не найден"}):void 0!=t.sessionid&&(document.cookie="email="+e+"; expires="+new Date(Date.now()+864e6).toUTCString(),document.cookie="SessionID="+t.sessionid+"; expires="+new Date(Date.now()+864e6).toUTCString(),document.cookie="role="+t.role+"; expires="+new Date(Date.now()+864e6).toUTCString(),window.location.href="/")})).catch((function(t){h.a.fire({icon:"error",text:"Непредвиденная ошибка, повторите попытку позже"}),console.log(t)}))},showHidePwd:function(){var t=document.getElementById("password");"password"===t.type?(t.type="text",document.getElementById("eye").className="far fa-eye"):(t.type="password",document.getElementById("eye").className="far fa-eye-slash")}}},H=$,N=(s("29b9"),Object(g["a"])(H,k,S,!1,null,"70af430b",null)),D=N.exports,j=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"main"},["metodist"==this.$store.getters.role?s("div",[0!=t.step&&""!=t.job&&""!=t.company?s("div",{staticClass:"place"},[s("div",{staticClass:"name text-center"},[t._v(t._s(t.job+", "+t.company))])]):0!=t.step?s("div",{staticClass:"place"},[s("div",{staticClass:"name text-center"},[t._v("Данные о компании или должности не заполнены")])]):t._e(),0==t.step?s("table",{staticStyle:{width:"100%"},attrs:{id:"table"}},[t._m(0),s("tr",{staticClass:"trstyle2"},[s("td",{staticClass:"elmincenter",staticStyle:{padding:"0px"}},[s("input",{staticClass:"tinput",attrs:{type:"text",id:"1.1"},domProps:{value:t.job},on:{input:function(e){return t.update_step0(1)}}})]),s("td",{staticClass:"elmincenter",staticStyle:{padding:"0px"}},[s("input",{staticClass:"tinput",attrs:{type:"text",id:"1.2"},domProps:{value:t.company},on:{input:function(e){return t.update_step0(2)}}})])])]):t._e(),1==t.step?s("table",{staticStyle:{width:"100%"},attrs:{id:"table2"}},[t._m(1),t._l(t.rows1,(function(e){return s("tr",{key:e,staticClass:"trstyle2",attrs:{id:e}},[s("td",{staticStyle:{padding:"0px"}},[s("textarea",{staticClass:"tinput",attrs:{type:"text",id:e+".1"},domProps:{value:t.step1[e][0]},on:{input:function(s){t.update_step1(e,1),t.change_width()}}})]),s("td",{staticClass:"elmincenter",staticStyle:{padding:"0px"}},[s("textarea",{staticClass:"tinput",attrs:{type:"text",id:e+".2"},domProps:{value:t.step1[e][1]},on:{input:function(s){t.update_step1(e,2),t.change_width()}}})]),s("td",{staticClass:"elmincenter",staticStyle:{padding:"0px"}},[s("textarea",{staticClass:"tinput",attrs:{type:"text",id:e+".3"},domProps:{value:t.step1[e][2]},on:{input:function(s){t.update_step1(e,3),t.change_width()}}})]),s("td",[s("button",{staticClass:"delb",on:{click:function(s){return t.del_row(e)}}},[s("i",{staticClass:"fas fa-times"})])])])}))],2):t._e(),2==t.step?s("table",{staticStyle:{width:"100%"},attrs:{id:"table3"}},[s("caption",{staticStyle:{"background-color":"yellow",width:"100%","caption-side":"top",color:"black","font-size":"1.1em","text-align":"center","font-weight":"bold"}},[t._v(t._s(t.step1[t.dop_step][0]))]),t._m(2),t._m(3),t._l(t.rows2[t.dop_step],(function(e,a){return s("tr",{key:e,staticClass:"trstyle2",attrs:{id:a}},[s("td",{staticStyle:{padding:"0px"}},[s("textarea",{staticClass:"tinput",staticStyle:{width:"250px"},attrs:{type:"text",id:e+".1"},domProps:{value:t.step2[t.dop_step][e][0]},on:{input:function(s){t.update_step2(e,1),t.change_width()}}})]),s("td",{staticClass:"elmincenter",staticStyle:{padding:"0px"}},[s("textarea",{staticClass:"tinput",staticStyle:{width:"250px"},attrs:{type:"text",id:e+".2"},domProps:{value:t.step2[t.dop_step][e][1]},on:{input:function(s){t.update_step2(e,2),t.change_width()}}})]),s("td",{staticClass:"elmincenter",staticStyle:{padding:"0px"}},[s("textarea",{staticClass:"tinput",staticStyle:{width:"250px"},attrs:{type:"text",id:e+".3"},domProps:{value:t.step2[t.dop_step][e][2]},on:{input:function(s){t.update_step2(e,3),t.change_width()}}})]),s("td",{staticClass:"elmincenter",staticStyle:{padding:"0px"}},[s("textarea",{staticClass:"tinput",staticStyle:{width:"250px"},attrs:{type:"text",id:e+".4"},domProps:{value:t.step2[t.dop_step][e][3]},on:{input:function(s){t.update_step2(e,4),t.change_width()}}})]),s("td",{staticClass:"elmincenter",staticStyle:{padding:"0px"}},[s("textarea",{staticClass:"tinput",staticStyle:{width:"250px"},attrs:{type:"text",id:e+".5"},domProps:{value:t.step2[t.dop_step][e][4]},on:{input:function(s){t.update_step2(e,5),t.change_width()}}})]),s("td",{staticClass:"elmincenter",staticStyle:{padding:"0px"},attrs:{id:e+".6"}},[t._v(" Выполнение совместно с экспертом (ч): "),s("input",{staticClass:"tinput",staticStyle:{width:"250px"},attrs:{type:"text",id:e+".6.1"},domProps:{value:t.step2[t.dop_step][e][5][0]},on:{input:function(s){return t.update_step2(e,6,1)}}}),t._v(" Выполнение сомостоятельное + онализ ошибок (ч): "),s("input",{staticClass:"tinput",staticStyle:{width:"250px"},attrs:{type:"text",id:e+".6.2"},domProps:{value:t.step2[t.dop_step][e][5][1]},on:{input:function(s){return t.update_step2(e,6,2)}}}),t._v(" Выполнение самостоятельное (повторное) (ч): "),s("input",{staticClass:"tinput",staticStyle:{width:"250px"},attrs:{type:"text",id:e+".6.3"},domProps:{value:t.step2[t.dop_step][e][5][2]},on:{input:function(s){return t.update_step2(e,6,3)}}}),t._v(" Выполнение контрольное (ч): "),s("input",{staticClass:"tinput",staticStyle:{width:"250px"},attrs:{type:"text",id:e+".6.4"},domProps:{value:t.step2[t.dop_step][e][5][3]},on:{input:function(s){return t.update_step2(e,6,4)}}}),t._v(" Итого (ч): "),s("div",{staticStyle:{width:"250px"},attrs:{id:e+".6.5"}},[t._v(t._s(t.count_hours(e,6)))])]),s("td",{staticClass:"elmincenter",staticStyle:{padding:"0px"},attrs:{id:e+".7"}},[t._v(" Выполнение совместно с экспертом (ч): "),s("input",{staticClass:"tinput",staticStyle:{width:"250px"},attrs:{type:"text",id:e+".7.1"},domProps:{value:t.step2[t.dop_step][e][6][0]},on:{input:function(s){return t.update_step2(e,7,1)}}}),t._v(" Выполнение сомостоятельное + онализ ошибок (ч): "),s("input",{staticClass:"tinput",staticStyle:{width:"250px"},attrs:{type:"text",id:e+".7.2"},domProps:{value:t.step2[t.dop_step][e][6][1]},on:{input:function(s){return t.update_step2(e,7,2)}}}),t._v(" Выполнение самостоятельное (повторное) (ч): "),s("input",{staticClass:"tinput",staticStyle:{width:"250px"},attrs:{type:"text",id:e+".7.3"},domProps:{value:t.step2[t.dop_step][e][6][2]},on:{input:function(s){return t.update_step2(e,7,3)}}}),t._v(" Выполнение контрольное (ч): "),s("input",{staticClass:"tinput",staticStyle:{width:"250px"},attrs:{type:"text",id:e+".7.4"},domProps:{value:t.step2[t.dop_step][e][6][3]},on:{input:function(s){return t.update_step2(e,7,4)}}}),t._v(" Итого (ч): "),s("div",{staticStyle:{width:"250px"},attrs:{id:e+".7.5"}},[t._v(t._s(t.count_hours(e,7)))])]),s("td",{staticClass:"elmincenter",staticStyle:{padding:"0px"}},[s("textarea",{staticClass:"tinput",staticStyle:{width:"250px"},attrs:{type:"text",id:e+".8"},domProps:{value:t.step2[t.dop_step][e][7]},on:{input:function(s){t.update_step2(e,8),t.change_width()}}})]),s("td",{staticClass:"elmincenter",staticStyle:{padding:"0px"}},[s("textarea",{staticClass:"tinput",staticStyle:{width:"250px"},attrs:{type:"text",id:e+".9"},domProps:{value:t.step2[t.dop_step][e][8]},on:{input:function(s){t.update_step2(e,9),t.change_width()}}})]),s("td",{staticClass:"elmincenter",staticStyle:{padding:"0px"}},[s("textarea",{staticClass:"tinput",staticStyle:{width:"250px"},attrs:{type:"text",id:e+".10"},domProps:{value:t.step2[t.dop_step][e][9]},on:{input:function(s){t.update_step2(e,10),t.change_width()}}})]),s("td",[s("button",{staticClass:"delb",on:{click:function(e){return t.del_row(a)}}},[s("i",{staticClass:"fas fa-times"})])])])}))],2):t._e(),3==t.step?s("table",{staticStyle:{width:"100%"},attrs:{id:"table4"}},[t._m(4),t._m(5),t._l(t.step3,(function(e,a){return s("tr",{key:e,staticClass:"trstyle2"},[s("th",{staticClass:"thead",staticStyle:{padding:"0px"}},[t._v(t._s(a+1))]),s("th",{staticClass:"elmincentertop thead",staticStyle:{padding:"0px"}},[t._v(t._s(t.make_normal(e[0])))]),s("td",{staticClass:"elmincenter",staticStyle:{padding:"0px"}},[s("textarea",{staticClass:"tinput",attrs:{type:"text",id:Number(a+1)+".1"},domProps:{value:e[1]},on:{input:function(e){t.update_step3(a+1,1),t.change_width()}}})]),s("td",{staticClass:"elmincenter",staticStyle:{padding:"0px"}},[s("textarea",{staticClass:"tinput",attrs:{type:"text",id:Number(a+1)+".2"},domProps:{value:e[2]},on:{input:function(e){t.update_step3(a+1,2),t.change_width()}}})]),s("td",{staticClass:"elmincenter",staticStyle:{padding:"0px"}},[s("textarea",{staticClass:"tinput",attrs:{type:"text",id:Number(a+1)+".3"},domProps:{value:e[3]},on:{input:function(e){t.update_step3(a+1,3),t.change_width()}}})]),s("td",{staticStyle:{padding:"0px"}},[s("textarea",{staticClass:"tinput",attrs:{type:"text",id:Number(a+1)+".4"},domProps:{value:e[4]},on:{input:function(e){t.update_step3(a+1,4),t.change_width()}}})])])}))],2):t._e(),s("br"),s("div",{staticClass:"row justify-content-end"},[s("div",{staticClass:"col-3 col-md-1"},[0!=t.step&&3!=t.step?s("button",{staticClass:"btn btn-almbb-danger btn-almbb-small",staticStyle:{"border-radius":"50%","font-size":"1.2em"},on:{click:function(e){return t.rows_number("-")}}},[s("i",{staticClass:"fas fa-minus"})]):t._e()]),s("div",{staticClass:"col-3 col-md-1"},[0!=t.step&&3!=t.step?s("button",{staticClass:"btn btn-almbb-success btn-almbb-small",staticStyle:{"border-radius":"50%","font-size":"1.2em"},on:{click:function(e){return t.rows_number("+")}}},[s("i",{staticClass:"fas fa-plus"})]):t._e()])]),s("br"),s("br"),s("br"),s("div",{staticClass:"row buttons"},[s("div",{staticClass:"col-4"},[0!=t.step?s("button",{staticClass:"btn btn-elegant",staticStyle:{width:"100%"},on:{click:function(e){return t.change_step("-")}}},[t._v("Назад")]):t._e()]),s("div",{staticClass:"col-4"},[s("button",{staticClass:"btn btn-almbb-success",staticStyle:{width:"100%"},on:{click:function(e){return t.save()}}},[t._v("Сохранить")])]),s("div",{staticClass:"col-4"},[3!=t.step?s("button",{staticClass:"btn btn-blue",staticStyle:{width:"100%"},on:{click:function(e){return t.change_step("+")}}},[t._v("Далее")]):t._e()])]),0!=t.step&&3!=t.step?s("button",{staticClass:"btn questionBtn",on:{click:function(e){return t.usefullInfo()}}},[s("i",{staticClass:"fas fa-question"})]):t._e()]):t._e(),"company"==this.$store.getters.role?s("div",[0!=t.step&&""!=t.sphere&&""!=t.company?s("div",{staticClass:"place"},[s("div",{staticClass:"name text-center"},[t._v(t._s(t.company)+", "+t._s(t.sphere))])]):0!=t.step?s("div",{staticClass:"place"},[s("div",{staticClass:"name text-center"},[t._v("Данные о предприятии не заполнены")])]):t._e(),0==t.step?s("table",{staticStyle:{width:"70%","margin-left":"auto","margin-right":"auto"},attrs:{id:"table"}},[s("tr",{staticClass:"trstyle"},[s("th",{staticClass:"thead elmincentertop"},[t._v("Название предприятия")]),s("th",{staticClass:"thead elmincentertop"},[t._v("Сфера "),t.other?s("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(e){return t.show_other(!1)}}},[t._v("Вернуться к списку")]):t._e()]),s("th",{staticClass:"thead elmincentertop"},[t._v("Город расположения организации")]),s("th",{staticClass:"thead elmincentertop"},[t._v("ФИО ответственного")]),s("th",{staticClass:"thead elmincentertop"},[t._v("Должность")]),s("th",{staticClass:"thead elmincentertop"},[t._v("Телефон")]),s("th",{staticClass:"thead elmincentertop"},[t._v("Почта")])]),s("tr",{staticClass:"trstyle2"},[s("td",{staticClass:"elmincenter",staticStyle:{padding:"0px"}},[s("input",{staticClass:"tinput",staticStyle:{width:"250px"},attrs:{type:"text",id:"1.1"},domProps:{value:t.company},on:{input:function(e){return t.update_step0(1)}}})]),s("td",{staticClass:"elmincenter",staticStyle:{padding:"0px"}},[t.other?t._e():s("select",{staticClass:"tinput",staticStyle:{width:"250px"},attrs:{id:"1.2"},on:{input:function(e){return t.update_step0(2)}}},[s("option",{attrs:{selected:""}},[t._v(t._s(t.sphere))]),s("option",[t._v("Транспорт и логистика")]),s("option",[t._v("Агрокомплекс")]),s("option",[t._v("Рыбная промышленность")]),s("option",[t._v("Туризм")]),s("option",[t._v("Сфера услуг")]),s("option",[t._v("Строительство")]),s("option",[t._v("Энергетика /нефть, газ, уголь, другие источники энергии/")]),s("option",[t._v("ЖКХ")]),s("option",[t._v("Другое")])]),t.other?s("input",{staticClass:"tinput",attrs:{type:"text",id:"1.2"},domProps:{value:t.sphere},on:{input:function(e){return t.update_step0(2)}}}):t._e()]),s("td",{staticClass:"elmincenter",staticStyle:{padding:"0px"}},[s("input",{staticClass:"tinput",staticStyle:{width:"250px"},attrs:{type:"text",id:"1.3"},domProps:{value:t.org_city},on:{input:function(e){return t.update_step0(3)}}})]),s("td",{staticClass:"elmincenter",staticStyle:{padding:"0px"}},[s("input",{staticClass:"tinput",staticStyle:{width:"250px"},attrs:{type:"text",id:"1.4"},domProps:{value:t.responsible_person},on:{input:function(e){return t.update_step0(4)}}})]),s("td",{staticClass:"elmincenter",staticStyle:{padding:"0px"}},[s("input",{staticClass:"tinput",staticStyle:{width:"250px"},attrs:{type:"text",id:"1.5"},domProps:{value:t.post},on:{input:function(e){return t.update_step0(5)}}})]),s("td",{staticClass:"elmincenter",staticStyle:{padding:"0px"}},[s("input",{staticClass:"tinput",staticStyle:{width:"250px"},attrs:{type:"text",id:"1.6"},domProps:{value:t.phone},on:{input:function(e){return t.update_step0(6)}}})]),s("td",{staticClass:"elmincenter",staticStyle:{padding:"0px"}},[s("input",{staticClass:"tinput",staticStyle:{width:"250px"},attrs:{type:"text",id:"1.7"},domProps:{value:t.card_email},on:{input:function(e){return t.update_step0(7)}}})])])]):t._e(),1==t.step?s("table",{staticStyle:{width:"100%"},attrs:{id:"table2"}},[t._m(6),t._m(7),t._l(t.rows1,(function(e){return s("tr",{key:e,staticClass:"trstyle2",attrs:{id:e}},[s("td",{staticStyle:{padding:"0px"}},[s("textarea",{staticClass:"tinput",staticStyle:{width:"250px"},attrs:{type:"text",id:e+".1"},domProps:{value:t.step1[e][0]},on:{input:function(s){t.update_step1(e,1),t.change_width()}}})]),s("td",{staticClass:"elmincenter",staticStyle:{padding:"0px"}},[s("textarea",{staticClass:"tinput",staticStyle:{width:"250px"},attrs:{type:"text",id:e+".2"},domProps:{value:t.step1[e][1]},on:{input:function(s){t.update_step1(e,2),t.change_width()}}})]),s("td",{staticClass:"elmincenter",staticStyle:{padding:"0px"}},[s("textarea",{staticClass:"tinput",staticStyle:{width:"100px"},attrs:{type:"text",id:e+".3"},domProps:{value:t.step1[e][2]},on:{input:function(s){t.update_step1(e,3),t.change_width()}}})]),s("td",{staticClass:"elmincenter",staticStyle:{padding:"0px"}},[s("textarea",{staticClass:"tinput",staticStyle:{width:"100px"},attrs:{type:"text",id:e+".4"},domProps:{value:t.step1[e][3]},on:{input:function(s){t.update_step1(e,4),t.change_width()}}})]),s("td",{staticClass:"elmincenter",staticStyle:{padding:"0px"}},[s("textarea",{staticClass:"tinput",staticStyle:{width:"100px"},attrs:{type:"text",id:e+".5"},domProps:{value:t.step1[e][4]},on:{input:function(s){t.update_step1(e,5),t.change_width()}}})]),s("td",{staticClass:"elmincenter",staticStyle:{padding:"0px"}},[s("textarea",{staticClass:"tinput",staticStyle:{width:"150px"},attrs:{type:"text",id:e+".6"},domProps:{value:t.step1[e][5]},on:{input:function(s){t.update_step1(e,6),t.change_width()}}})]),s("td",{staticClass:"elmincenter",staticStyle:{padding:"0px"}},[s("textarea",{staticClass:"tinput",staticStyle:{width:"150px"},attrs:{type:"text",id:e+".7"},domProps:{value:t.step1[e][6]},on:{input:function(s){t.update_step1(e,7),t.change_width()}}})]),s("td",{staticClass:"elmincenter",staticStyle:{padding:"0px"}},[s("textarea",{staticClass:"tinput",staticStyle:{width:"250px"},attrs:{type:"text",id:e+".8"},domProps:{value:t.step1[e][7]},on:{input:function(s){t.update_step1(e,8),t.change_width()}}})]),s("td",{staticClass:"elmincenter",staticStyle:{padding:"0px"}},[s("textarea",{staticClass:"tinput",staticStyle:{width:"250px"},attrs:{type:"text",id:e+".9"},domProps:{value:t.step1[e][8]},on:{input:function(s){t.update_step1(e,9),t.change_width()}}})]),s("td",[s("button",{staticClass:"delb",on:{click:function(s){return t.del_row(e)}}},[s("i",{staticClass:"fas fa-times"})])])])}))],2):t._e(),s("br"),s("div",{staticClass:"row justify-content-end"},[s("div",{staticClass:"col-3 col-md-1"},[0!=t.step?s("button",{staticClass:"btn btn-almbb-danger btn-almbb-small",staticStyle:{"border-radius":"50%","font-size":"1.2em"},on:{click:function(e){return t.rows_number("-")}}},[s("i",{staticClass:"fas fa-minus"})]):t._e()]),s("div",{staticClass:"col-3 col-md-1"},[0!=t.step?s("button",{staticClass:"btn btn-almbb-success btn-almbb-small",staticStyle:{"border-radius":"50%","font-size":"1.2em"},on:{click:function(e){return t.rows_number("+")}}},[s("i",{staticClass:"fas fa-plus"})]):t._e()])]),s("br"),s("br"),s("br"),s("div",{staticClass:"row buttons"},[s("div",{staticClass:"col-4"},[0!=t.step?s("button",{staticClass:"btn btn-elegant",staticStyle:{width:"100%"},on:{click:function(e){return t.change_step("-")}}},[t._v("Назад")]):t._e()]),s("div",{staticClass:"col-4"},[s("button",{staticClass:"btn btn-almbb-success",staticStyle:{width:"100%"},on:{click:function(e){return t.save()}}},[t._v("Сохранить")])]),s("div",{staticClass:"col-4"},[1!=t.step?s("button",{staticClass:"btn btn-blue",staticStyle:{width:"100%"},on:{click:function(e){return t.change_step("+")}}},[t._v("Далее")]):t._e()])])]):t._e()])},O=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("tr",{staticClass:"trstyle"},[s("th",{staticClass:"thead elmincentertop"},[t._v("Должность")]),s("th",{staticClass:"thead elmincentertop"},[t._v("Предприятие")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("tr",{staticClass:"trstyle"},[s("th",{staticClass:"thead"},[t._v("Навык")]),s("th",{staticClass:"thead elmincentertop"},[t._v("Трудовая операция")]),s("th",{staticClass:"thead elmincentertop"},[t._v("Показатель оценки трудовой операции")]),s("th",{staticClass:"thead"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("tr",{staticClass:"trstyle"},[s("th",{staticClass:"thead",attrs:{rowspan:"2"}},[t._v("№")]),s("th",{staticClass:"thead elmincentertop",attrs:{rowspan:"2"}},[t._v("ПЗ")]),s("th",{staticClass:"thead elmincentertop",attrs:{rowspan:"2"}},[t._v("КОС")]),s("th",{staticClass:"thead elmincentertop",attrs:{rowspan:"2"}},[t._v("Знания")]),s("th",{staticClass:"thead elmincentertop",attrs:{rowspan:"2"}},[t._v("Ссылка в сети на открытую информацию")]),s("th",{staticClass:"thead elmincentertop",attrs:{rowspan:"2"}},[t._v("Продвинутый уровень")]),s("th",{staticClass:"thead elmincentertop",attrs:{rowspan:"2"}},[t._v("Начальный уровень")]),s("th",{staticClass:"thead elmincentertop",staticStyle:{"border-bottom":"2px solid #c8cccf"},attrs:{rowspan:"1",colspan:"3"}},[t._v("МТБ")]),s("th",{staticClass:"thead",attrs:{rowspan:"2"}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("tr",{staticClass:"trstyle"},[s("th",{staticClass:"thead elmincentertop"},[t._v("Инструмент")]),s("th",{staticClass:"thead elmincentertop"},[t._v("Оборудование")]),s("th",{staticClass:"thead elmincentertop"},[t._v("Расходный материал")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("tr",{staticClass:"trstyle"},[s("th",{staticClass:"thead",staticStyle:{"border-bottom":"2px solid #c8cccf"},attrs:{rowspan:"2"}},[t._v("№")]),s("th",{staticClass:"thead elmincentertop",staticStyle:{"border-bottom":"2px solid #c8cccf"},attrs:{rowspan:"2"}},[t._v("Наименование темы")]),s("th",{staticClass:"thead",staticStyle:{"border-bottom":"2px solid #c8cccf"},attrs:{colspan:"4"}},[t._v("Количество часов")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("tr",{staticClass:"trstyle"},[s("th",{staticClass:"thead elmincentertop"},[t._v("16")]),s("th",{staticClass:"thead elmincentertop"},[t._v("72")]),s("th",{staticClass:"thead elmincentertop"},[t._v("144")]),s("th",{staticClass:"thead"},[t._v("256")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("tr",{staticClass:"trstyle"},[s("th",{staticClass:"thead",attrs:{rowspan:"2"}},[t._v("Наименование специальности / компетенции / заказчик")]),s("th",{staticClass:"thead elmincentertop",attrs:{rowspan:"2"}},[t._v("Уровень подготовки")]),s("th",{staticClass:"thead elmincentertop",staticStyle:{"border-bottom":"2px solid #c8cccf"},attrs:{rowspan:"1",colspan:"3"}},[t._v("Потребность в подготовке")]),s("th",{staticClass:"thead elmincentertop",attrs:{rowspan:"2"}},[t._v("Да/нет/эксперт/количество")]),s("th",{staticClass:"thead elmincentertop",attrs:{rowspan:"2"}},[t._v("Имеется ли корпоративная программа подготовки")]),s("th",{staticClass:"thead elmincentertop",staticStyle:{"border-bottom":"2px solid #c8cccf"},attrs:{rowspan:"1",colspan:"2"}},[t._v("Материально техническая база (МТБ)")]),s("th",{staticClass:"thead elmincentertop",attrs:{rowspan:"2"}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("tr",{staticClass:"trstyle"},[s("th",{staticClass:"thead elmincentertop"},[t._v("2021")]),s("th",{staticClass:"thead elmincentertop"},[t._v("2022")]),s("th",{staticClass:"thead elmincentertop"},[t._v("2023")]),s("th",{staticClass:"thead elmincentertop"},[t._v("Наличие МТБ для подготовки")]),s("th",{staticClass:"thead elmincentertop"},[t._v("Сколько стоит создать МТБ")])])}],U=(s("c975"),s("baa5"),s("fb6a"),s("a434"),s("a9e3"),s("1276"),{name:"AddCard",data:function(){return{rows1:[],rows2:[],step:0,dop_step:-1,job:"",company:"",sphere:"",org_city:"",responsible_person:"",post:"",phone:"",card_email:"",other:!1,step1:[],step2:[],step3:[],email:this.$store.getters.email,SessionID:this.$store.getters.SessionID,role:this.$store.getters.role}},beforeMount:function(){void 0==this.email&&(window.location.href="/login")},beforeDestroy:function(){if(confirm("Сохранить изменения?")){var t=new Date;fetch(this.$store.state.serverIp+"/api/saveData",{method:"POST",body:JSON.stringify({email:this.email,sessionid:this.SessionID,role:this.role,data:{rows1:this.rows1,rows2:this.rows2,job:this.job,company:this.company,sphere:this.sphere,org_city:this.org_city,responsible_person:this.responsible_person,post:this.post,phone:this.phone,card_email:this.card_email,step1:this.step1,step2:this.step2,update_user:this.email,update_time:[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes()]}}),headers:{"Content-Type":"application/json"}}).then((function(t){return t.json()})).then((function(t){"310"==t.data?(document.cookie="email=;expires=Thu, 01 Jan 1970 00:00:01 GMT",document.cookie="SessionID=;expires=Thu, 01 Jan 1970 00:00:01 GMT",window.location.reload()):document.location.pathname="/edit-card/"+t})).catch((function(t){console.log(t)}))}},methods:{rows_number:function(t){var e=this;if(1==this.step)"+"==t?"metodist"==this.$store.getters.role?(this.step1.push(["","",""]),this.rows1.push(this.rows1.length)):"company"==this.$store.getters.role&&(this.step1.push(["","","","","","","","",""]),this.rows1.push(this.rows1.length)):"-"==t&&(this.rows1.splice(-1,1),this.step1.splice(-1,1));else if(2==this.step)if("+"==t){this.step2[this.dop_step].push(["","","","","",[0,0,0,0],[0,0,0,0],"","","","","","",""]),this.rows2[this.dop_step].push(this.rows2[this.dop_step].length);var s=setInterval((function(){(document.getElementById(e.step2[e.dop_step].length-1+".10")||0==e.step2[e.dop_step].length)&&(clearInterval(s),e.change_width(e.rows2[e.dop_step].length-1))}),100)}else"-"==t&&(this.rows2[this.dop_step].splice(-1,1),this.step2[this.dop_step].splice(-1,1))},del_row:function(t){var e=this;h.a.fire({text:"Вы уверены, что хотите удалить эту строку?",showCancelButton:!0,cancelButtonText:"Отмена",preConfirm:function(){1==e.step?(e.rows1.splice(-1,1),e.step1.splice(t,1)):2==e.step&&(e.rows2[e.dop_step].splice(-1,1),e.step2[e.dop_step].splice(t,1))}})},save:function(){var t=new Date;fetch(this.$store.state.serverIp+"/api/saveData",{method:"POST",body:JSON.stringify({email:this.email,sessionid:this.SessionID,role:this.role,data:{rows1:this.rows1,rows2:this.rows2,job:this.job,company:this.company,sphere:this.sphere,org_city:this.org_city,responsible_person:this.responsible_person,post:this.post,phone:this.phone,card_email:this.card_email,step1:this.step1,step2:this.step2,update_user:this.email,update_time:[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes()]}}),headers:{"Content-Type":"application/json"}}).then((function(t){return t.json()})).then((function(t){"310"==t.data&&(document.cookie="email=;expires=Thu, 01 Jan 1970 00:00:01 GMT",document.cookie="SessionID=;expires=Thu, 01 Jan 1970 00:00:01 GMT",window.location.reload()),document.location.pathname="/edit-card/"+t.data})).catch((function(t){console.log(t)}))},change_step:function(t){var e=this;if("-"==t?2==this.step&&0!=this.dop_step||(this.step-=1):2==this.step&&this.dop_step!=this.step1.length-1||(1==this.step?0!=this.step1.length&&(this.step+=1):this.step+=1),1==this.step){if("metodist"==this.$store.getters.role){this.dop_step=-1;var s=setInterval((function(){if(document.getElementById(e.step1.length-1+".3")||0==e.step1.length){clearInterval(s),e.job=document.getElementById("1.1").value,e.company=document.getElementById("1.2").value;for(var t=0;t<e.step1.length;t++)e.change_width(t)}}),100)}else if("company"==this.$store.getters.role){this.sphere=document.getElementById("1.2").value,this.company=document.getElementById("1.1").value;var a=setInterval((function(){if(document.getElementById(e.step1.length-1+".9")||0==e.step1.length){clearInterval(a);for(var t=0;t<e.step1.length;t++)e.change_width(t)}}),100)}}else if(2==this.step){if(-1==this.dop_step)for(var i=this.step1.length-this.rows2.length,n=0;n<i;n++)this.step2.push([]),this.rows2.push([]);"+"==t?this.dop_step+=1:"-"==t&&(this.dop_step-=1);var o=setInterval((function(){if(document.getElementById(e.step2[e.dop_step].length-1+".10")||0==e.step2[e.dop_step].length){clearInterval(o);for(var t=0;t<e.step2[e.dop_step].length;t++)e.change_width(t)}}),100)}else if(3==this.step){this.step3=[],this.dop_step=this.step1.length;for(var r=0;r<this.step2.length;r++)for(var l=0;l<this.step2[r].length;l++)this.step3.push([this.step2[r][l][0],this.step2[r][l][10],this.step2[r][l][11],this.step2[r][l][12],this.step2[r][l][13]]);var d=setInterval((function(){if(document.getElementById(e.step3.length+".4")||0==e.step3.length){clearInterval(d);for(var t=1;t<=e.step3.length;t++)e.change_width(t)}}),100)}},change_width:function(t){var e;if(e=void 0==t?event.target.id[0]:t,1==this.step){var s=document.getElementById(e+".1"),a=Math.max(Number(s.style.height.slice(0,-2)),s.scrollHeight),i=document.getElementById(e+".2"),n=Math.max(Number(i.style.height.slice(0,-2)),i.scrollHeight),o=document.getElementById(e+".3"),r=Math.max(Number(o.style.height.slice(0,-2)),o.scrollHeight);if("metodist"==this.$store.getters.role){var l=Math.max(a,n,r);if(event){if(document.getElementById(event.target.id).scrollHeight>l)for(var d=1;d<4;d++)document.getElementById(e+"."+d).style.height=document.getElementById(event.target.id).scrollHeight+"px"}else document.getElementById(e+".1").style.height="auto",document.getElementById(e+".2").style.height="auto",document.getElementById(e+".3").style.height="auto",l==a?(document.getElementById(e+".1").style.height=s.scrollHeight+2+"px",document.getElementById(e+".2").style.height=s.scrollHeight+2+"px",document.getElementById(e+".3").style.height=s.scrollHeight+2+"px"):l==n?(document.getElementById(e+".1").style.height=i.scrollHeight+2+"px",document.getElementById(e+".2").style.height=i.scrollHeight+2+"px",document.getElementById(e+".3").style.height=i.scrollHeight+2+"px"):(document.getElementById(e+".1").style.height=o.scrollHeight+2+"px",document.getElementById(e+".2").style.height=o.scrollHeight+2+"px",document.getElementById(e+".3").style.height=o.scrollHeight+2+"px")}else if("company"==this.$store.getters.role){var c=document.getElementById(e+".4"),p=Math.max(Number(c.style.height.slice(0,-2)),c.scrollHeight),u=document.getElementById(e+".5"),h=Math.max(Number(u.style.height.slice(0,-2)),u.scrollHeight),m=document.getElementById(e+".6"),_=Math.max(Number(m.style.height.slice(0,-2)),m.scrollHeight),g=document.getElementById(e+".7"),v=Math.max(Number(g.style.height.slice(0,-2)),g.scrollHeight),f=document.getElementById(e+".8"),y=Math.max(Number(f.style.height.slice(0,-2)),f.scrollHeight),b=document.getElementById(e+".9"),w=Math.max(Number(b.style.height.slice(0,-2)),b.scrollHeight),C=Math.max(a,n,r,p,h,_,v,y,w),x=[a,n,r,p,h,_,v,y,w],k=[s,i,o,c,u,m,g,f,b];if(event){if(document.getElementById(event.target.id).scrollHeight==C)for(var S=1;S<=9;S++)document.getElementById(e+"."+S).style.height=document.getElementById(event.target.id).scrollHeight+"px"}else{for(var I=1;I<=9;I++)document.getElementById(e+"."+I).style.height="auto";for(var B=1;B<=9;B++)document.getElementById(e+"."+B).style.height=k[x.lastIndexOf(C)].scrollHeight+2+"px"}}}else if(2==this.step){var E=document.getElementById(e+".1"),M=Math.max(Number(E.style.height.slice(0,-2)),E.scrollHeight),T=document.getElementById(e+".2"),P=Math.max(Number(T.style.height.slice(0,-2)),T.scrollHeight),$=document.getElementById(e+".3"),H=Math.max(Number($.style.height.slice(0,-2)),$.scrollHeight),N=document.getElementById(e+".4"),D=Math.max(Number(N.style.height.slice(0,-2)),N.scrollHeight),j=document.getElementById(e+".5"),O=Math.max(Number(j.style.height.slice(0,-2)),j.scrollHeight),U=document.getElementById(e+".6"),J=Math.max(Number(U.style.height.slice(0,-2)),U.scrollHeight),G=document.getElementById(e+".7"),F=Math.max(Number(G.style.height.slice(0,-2)),G.scrollHeight),L=document.getElementById(e+".8"),z=Math.max(Number(L.style.height.slice(0,-2)),L.scrollHeight),R=document.getElementById(e+".9"),q=Math.max(Number(R.style.height.slice(0,-2)),R.scrollHeight),A=document.getElementById(e+".10"),Y=Math.max(Number(A.style.height.slice(0,-2)),A.scrollHeight),W=Math.max(M,P,H,D,O,J,F,z,q,Y);if(void 0!=event){if(document.getElementById(event.target.id).scrollHeight>=W)for(var K=1;K<11;K++)6!=K&&7!=K&&(document.getElementById(e+"."+K).style.height=document.getElementById(event.target.id).scrollHeight+"px")}else{for(var Q=1;Q<11;Q++)6!=Q&&7!=Q&&(document.getElementById(e+"."+Q).style.height="auto");for(var V=1;V<11;V++)6!=V&&7!=V&&(document.getElementById(e+"."+V).style.height=W+"px")}}else if(3==this.step){var X=document.getElementById(e+".1"),Z=Math.max(Number(X.style.height.slice(0,-2)),X.scrollHeight),tt=document.getElementById(e+".2"),et=Math.max(Number(tt.style.height.slice(0,-2)),tt.scrollHeight),st=document.getElementById(e+".3"),at=Math.max(Number(st.style.height.slice(0,-2)),st.scrollHeight),it=document.getElementById(e+".4"),nt=Math.max(Number(it.style.height.slice(0,-2)),it.scrollHeight),ot=Math.max(Z,et,at,nt);if(void 0!=event){if(document.getElementById(event.target.id).scrollHeight>=ot)for(var rt=1;rt<5;rt++)document.getElementById(e+"."+rt).style.height=document.getElementById(event.target.id).scrollHeight+"px"}else{for(var lt=1;lt<5;lt++)document.getElementById(e+"."+lt).style.height="auto";for(var dt=1;dt<5;dt++)document.getElementById(e+"."+dt).style.height=ot+"px"}}},update_step0:function(t){if("metodist"==this.$store.getters.role)1==t?this.job=document.getElementById("1.1").value:this.company=document.getElementById("1.2").value;else if("company"==this.$store.getters.role){this.company=document.getElementById("1.1").value,this.org_city=document.getElementById("1.3").value,this.responsible_person=document.getElementById("1.4").value,this.post=document.getElementById("1.5").value,this.phone=document.getElementById("1.6").value,this.card_email=document.getElementById("1.7").value;var e=document.getElementById("1.2").value;"Другое"!=e?this.sphere=e:(this.sphere="",this.show_other(!0))}},update_step1:function(t,e){this.step1[t][e-1]=document.getElementById(t+"."+e).value},update_step2:function(t,e,s){if(s){var a=document.getElementById(t+"."+e+"."+s),i="1234567890,";if(-1!=a.value.indexOf(",",2))return void(document.getElementById(t+"."+e+"."+s).value=this.step2[this.dop_step][t][e-1][s-1]);for(var n=0;n<a.value.length;n++)if(-1==i.lastIndexOf(a.value[n]))return void(document.getElementById(t+"."+e+"."+s).value=this.step2[this.dop_step][t][e-1][s-1]);a=a.value.split(","),1==a.length?this.step2[this.dop_step][t][e-1][s-1]=Number(a[0]):2==a.length&&(this.step2[this.dop_step][t][e-1][s-1]=Number(a[0]+"."+a[1])),document.getElementById(t+"."+e+".5").innerHTML=this.count_hours(t,e)}else this.step2[this.dop_step][t][e-1]=document.getElementById(t+"."+e).value},update_step3:function(t,e){for(var s=0,a=0;a<this.step2.length;a++)for(var i=0;i<this.step2[a].length;i++){if(s==t-1)return void(this.step2[a][i][9+e]=document.getElementById(t+"."+e).value);s++}},make_normal:function(t){for(var e="",s=0,a=String.fromCharCode(173),i=0;i<t.length;i++)e+=t[i]," "!=t[i]?s+=1:s=0,12==s&&(e+=a,s=0);return e},usefullInfo:function(){1==this.step?h.a.fire({width:"100%",html:'<div>Алгоритм формирования результатов обучения</div><ol class="text-left"><li>Перенос навыка Н1 либо из корпоративного стандарта, либо из требований работодателя.</li><li>Формулировка (либо перенос) трудовых операций: ТО 1.1., ТО 1.2., ТО 1.3., ТО 1.n., - реализующих навык Н1.</li><li>Формулировка показателя оценки для каждой трудовой операции: ПО 1.1., ПО 1.2., ПО 1.3., ПО 1.n.</li></ol><div class="text-left">Дополнение: По аналогии, согласно выше указанному алгоритму, формулировка навыков: Н2, ...Нn, с соответствующими трудовыми операциями и показателями оценки.</div>'}):2==this.step&&h.a.fire({width:"100%",html:'<div>Алгоритм формирования содержания образовательной программы</div><ol class="text-left"><li>Формулировка названия профессионального модуля ПМ. 01 с результатом обучения: навык Н1 с трудовыми операциями ТО 1.1., ТО 1.2., ТО 1.3., ТО 1.n.</li><li>Формулировка тем практических занятий: ПЗ 1.1., ПЗ 1.2., ПЗ 1.3., ПЗ 1.n,  - с практическими упражнениями для отработки сответствующих трудовых операций.</li><li>Формирование контрольного задания (КОС) для выявления уровня освоения трудовой операции либо комплексного задания для выявления уровня освоения навыка Н1 в целом.</li><li>Определение количества часов на отработку трудовой операции ТО в рамках практического занятия в отдельности и навыка Н1 в целом, т.е. количества часов на профессиональный модуль ПМ. 01, в зависимости от категории слушателей.</li><li>Формулировка МТБ.</li></ol><div class="text-left">Дополнение: По аналогии, согласно выше указанному алгоритму, формирование содержания профессиональных модулей: ПМ. 02, ...ПМ. 0n.</div>'})},count_hours:function(t,e){return this.step2[this.dop_step][t][e-1][0]+this.step2[this.dop_step][t][e-1][1]+this.step2[this.dop_step][t][e-1][2]+this.step2[this.dop_step][t][e-1][3]},show_other:function(t){this.other=!!t}}}),J=U,G=(s("7211"),Object(g["a"])(J,j,O,!1,null,"909c3c38",null)),F=G.exports,L=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"main"},[s("div",{staticClass:"warp"},[0==t.cards.length&&"admin"!=this.$store.getters.role?s("div",[t._v("Вы не добавили ни одной карточки")]):t._e(),0==t.cards.length&&"admin"==this.$store.getters.role?s("div",[t._v("Пользователи не добавили ни одной карточки")]):t._e(),"metodist"==this.$store.getters.role?s("div",t._l(t.cards,(function(e){return s("div",{key:e},[""!=e.job&&""!=e.company?s("div",{staticClass:"card",staticStyle:{"margin-bottom":"1em"}},[s("div",{staticClass:"card-header"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-8 col-md-10",staticStyle:{"font-weight":"bold"}},[s("h4",[t._v(t._s(e.job+", "+e.company))])]),s("div",{staticClass:"col-2 col-md-1"},[s("button",{staticClass:"btn btn-almbb-small btn-almbb-info",on:{click:function(s){return t.edit_card(e.tableid)}}},[s("i",{staticClass:"far fa-edit"})])]),s("div",{staticClass:"col-2 col-md-1"},[s("button",{staticClass:"btn btn-almbb-danger btn-almbb-small",on:{click:function(s){return t.delete_card(e.tableid)}}},[s("i",{staticClass:"fas fa-trash-alt"})])]),s("div",{staticClass:"col-12",staticStyle:{"font-weight":"lighter"}},[t._v("Обновлено "+t._s(e.update_user)+" "+t._s(t.getTime(e.update_time)))])])]),s("div",{staticClass:"card-body",staticStyle:{padding:"0px"}},[s("div",{staticClass:"exportBtn",on:{click:function(s){return t.export_to_excel(e.tableid)}}},[t._v("Экспорт в excel")])])]):s("div",{staticClass:"card",staticStyle:{"margin-bottom":"1em"}},[s("div",{staticClass:"card-header"},[s("div",{staticClass:"row"},[t._m(0,!0),s("div",{staticClass:"col-2 col-md-1"},[s("button",{staticClass:"btn btn-almbb-small btn-almbb-info",on:{click:function(s){return t.edit_card(e.tableid,e.job,e.company)}}},[s("i",{staticClass:"far fa-edit"})])]),s("div",{staticClass:"col-2 col-md-1"},[s("button",{staticClass:"btn btn-almbb-danger btn-almbb-small",on:{click:function(s){return t.delete_card(e.tableid)}}},[s("i",{staticClass:"fas fa-trash-alt"})])]),s("div",{staticClass:"col-12",staticStyle:{"font-weight":"lighter"}},[t._v("Обновлено "+t._s(e.update_user)+" "+t._s(t.getTime(e.update_time)))])])]),s("div",{staticClass:"card-body",staticStyle:{padding:"0px"}},[s("div",{staticClass:"exportBtn",on:{click:function(s){return t.export_to_excel(e.tableid)}}},[t._v("Экспорт в excel")])])])])})),0):t._e(),"company"==this.$store.getters.role?s("div",t._l(t.cards,(function(e){return s("div",{key:e},[""!=e.sphere&&""!=e.company?s("div",{staticClass:"card",staticStyle:{"margin-bottom":"1em"}},[s("div",{staticClass:"card-header"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-8 col-md-10",staticStyle:{"font-weight":"bold"}},[s("h4",[t._v(t._s(e.company)+", "+t._s(e.sphere))])]),s("div",{staticClass:"col-2 col-md-1"},[s("button",{staticClass:"btn btn-almbb-small btn-almbb-info",on:{click:function(s){return t.edit_card(e.tableid)}}},[s("i",{staticClass:"far fa-edit"})])]),s("div",{staticClass:"col-2 col-md-1"},[s("button",{staticClass:"btn btn-almbb-danger btn-almbb-small",on:{click:function(s){return t.delete_card(e.tableid)}}},[s("i",{staticClass:"fas fa-trash-alt"})])]),s("div",{staticClass:"col-12",staticStyle:{"font-weight":"lighter"}},[t._v("Обновлено "+t._s(e.update_user)+" "+t._s(t.getTime(e.update_time)))])])]),s("div",{staticClass:"card-body",staticStyle:{padding:"0px"}},[s("div",{staticClass:"exportBtn",on:{click:function(s){return t.export_to_excel(e.tableid)}}},[t._v("Экспорт в excel")])])]):s("div",{staticClass:"card",staticStyle:{"margin-bottom":"1em"}},[s("div",{staticClass:"card-header"},[s("div",{staticClass:"row"},[t._m(1,!0),s("div",{staticClass:"col-2 col-md-1"},[s("button",{staticClass:"btn btn-almbb-small btn-almbb-info",on:{click:function(s){return t.edit_card(e.tableid)}}},[s("i",{staticClass:"far fa-edit"})])]),s("div",{staticClass:"col-2 col-md-1"},[s("button",{staticClass:"btn btn-almbb-danger btn-almbb-small",on:{click:function(s){return t.delete_card(e.tableid)}}},[s("i",{staticClass:"fas fa-trash-alt"})])]),s("div",{staticClass:"col-12",staticStyle:{"font-weight":"lighter"}},[t._v("Обновлено "+t._s(e.update_user)+" "+t._s(t.getTime(e.update_time)))])])]),s("div",{staticClass:"card-body",staticStyle:{padding:"0px"}},[s("div",{staticClass:"exportBtn",on:{click:function(s){return t.export_to_excel(e.tableid)}}},[t._v("Экспорт в excel")])])])])})),0):t._e(),"admin"==this.$store.getters.role?s("div",[s("a",{staticClass:"dropdown-toggle",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v("Фильтр")]),s("div",{staticClass:"dropdown-menu dropdown-menu-right",attrs:{"aria-labelledby":"dropdownMenuButton"}},[s("div",{staticClass:"dropdown-item"},[s("input",{attrs:{type:"radio",id:"1",checked:""},on:{click:function(e){return t.filter(1,[2,3])}}}),t._v(" Карточки админа")]),s("div",{staticClass:"dropdown-item"},[s("input",{attrs:{type:"radio",id:"2"},on:{click:function(e){return t.filter(2,[1,3])}}}),t._v(" Карточки методистов")]),s("div",{staticClass:"dropdown-item"},[s("input",{attrs:{type:"radio",id:"3"},on:{click:function(e){return t.filter(3,[1,2])}}}),t._v(" Карточки предприятий")])]),t._l(t.cards,(function(e){return s("div",{key:e},["admin"==e.email?s("div",[1==t.what_show?s("div",[""!=e.card_name?s("div",{staticClass:"card",staticStyle:{"margin-bottom":"1em"}},[s("div",{staticClass:"card-header"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-8 col-md-10",staticStyle:{"font-weight":"bold"}},[s("h5",[t._v(t._s(e.card_name))])]),s("div",{staticClass:"col-2 col-md-1"},[s("button",{staticClass:"btn btn-almbb-small btn-almbb-info",on:{click:function(s){return t.edit_card(e.tableid)}}},[s("i",{staticClass:"far fa-edit"})])]),s("div",{staticClass:"col-2 col-md-1"},[s("button",{staticClass:"btn btn-almbb-danger btn-almbb-small",on:{click:function(s){return t.delete_card(e.tableid)}}},[s("i",{staticClass:"fas fa-trash-alt"})])]),s("div",{staticClass:"col-12",staticStyle:{"font-weight":"lighter"}},[t._v("Автор: "+t._s(e.email)+" - админ, обновлено "+t._s(e.update_user)+" "+t._s(t.getTime(e.update_time)))])])]),s("div",{staticClass:"card-body",staticStyle:{padding:"0px"}},[s("div",{staticClass:"exportBtn",on:{click:function(s){return t.export_to_excel(e.tableid)}}},[t._v("Экспорт в excel")])])]):s("div",{staticClass:"card",staticStyle:{"margin-bottom":"1em"}},[s("div",{staticClass:"card-header"},[s("div",{staticClass:"row"},[t._m(2,!0),s("div",{staticClass:"col-2 col-md-1"},[s("button",{staticClass:"btn btn-almbb-small btn-almbb-info",on:{click:function(s){return t.edit_card(e.tableid,e.job,e.company)}}},[s("i",{staticClass:"far fa-edit"})])]),s("div",{staticClass:"col-2 col-md-1"},[s("button",{staticClass:"btn btn-almbb-danger btn-almbb-small",on:{click:function(s){return t.delete_card(e.tableid)}}},[s("i",{staticClass:"fas fa-trash-alt"})])]),s("div",{staticClass:"col-12",staticStyle:{"font-weight":"lighter"}},[t._v("Автор: "+t._s(e.email)+" - админ, обновлено "+t._s(e.update_user)+" "+t._s(t.getTime(e.update_time)))])])]),s("div",{staticClass:"card-body",staticStyle:{padding:"0px"}},[s("div",{staticClass:"exportBtn",on:{click:function(s){return t.export_to_excel(e.tableid)}}},[t._v("Экспорт в excel")])])])]):t._e()]):t._e(),"metodist"==e.role?s("div",[2==t.what_show?s("div",[""!=e.job&&""!=e.company?s("div",{staticClass:"card",staticStyle:{"margin-bottom":"1em"}},[s("div",{staticClass:"card-header"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-8 col-md-10",staticStyle:{"font-weight":"bold"}},[s("h5",[t._v(t._s(e.job+", "+e.company))])]),s("div",{staticClass:"col-2 col-md-1"},[s("button",{staticClass:"btn btn-almbb-small btn-almbb-info",on:{click:function(s){return t.edit_card(e.tableid)}}},[s("i",{staticClass:"far fa-edit"})])]),s("div",{staticClass:"col-2 col-md-1"},[s("button",{staticClass:"btn btn-almbb-danger btn-almbb-small",on:{click:function(s){return t.delete_card(e.tableid)}}},[s("i",{staticClass:"fas fa-trash-alt"})])]),s("div",{staticClass:"col-12",staticStyle:{"font-weight":"lighter"}},[t._v("Автор: "+t._s(e.email)+" - методист, обновлено "+t._s(e.update_user)+" "+t._s(t.getTime(e.update_time)))])])]),s("div",{staticClass:"card-body",staticStyle:{padding:"0px"}},[s("div",{staticClass:"exportBtn",on:{click:function(s){return t.export_to_excel(e.tableid)}}},[t._v("Экспорт в excel")])])]):s("div",{staticClass:"card",staticStyle:{"margin-bottom":"1em"}},[s("div",{staticClass:"card-header"},[s("div",{staticClass:"row"},[t._m(3,!0),s("div",{staticClass:"col-2 col-md-1"},[s("button",{staticClass:"btn btn-almbb-small btn-almbb-info",on:{click:function(s){return t.edit_card(e.tableid,e.job,e.company)}}},[s("i",{staticClass:"far fa-edit"})])]),s("div",{staticClass:"col-2 col-md-1"},[s("button",{staticClass:"btn btn-almbb-danger btn-almbb-small",on:{click:function(s){return t.delete_card(e.tableid)}}},[s("i",{staticClass:"fas fa-trash-alt"})])]),s("div",{staticClass:"col-12",staticStyle:{"font-weight":"lighter"}},[t._v("Автор: "+t._s(e.email)+" - методист, обновлено "+t._s(e.update_user)+" "+t._s(t.getTime(e.update_time)))])])]),s("div",{staticClass:"card-body",staticStyle:{padding:"0px"}},[s("div",{staticClass:"exportBtn",on:{click:function(s){return t.export_to_excel(e.tableid)}}},[t._v("Экспорт в excel")])])])]):t._e()]):"company"==e.role?s("div",[3==t.what_show?s("div",[""!=e.sphere&&""!=e.company?s("div",{staticClass:"card",staticStyle:{"margin-bottom":"1em"}},[s("div",{staticClass:"card-header"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-8 col-md-10",staticStyle:{"font-weight":"bold"}},[s("h4",[t._v(t._s(e.company)+", "+t._s(e.sphere))])]),s("div",{staticClass:"col-2 col-md-1"},[s("button",{staticClass:"btn btn-almbb-small btn-almbb-info",on:{click:function(s){return t.edit_card(e.tableid)}}},[s("i",{staticClass:"far fa-edit"})])]),s("div",{staticClass:"col-2 col-md-1"},[s("button",{staticClass:"btn btn-almbb-danger btn-almbb-small",on:{click:function(s){return t.delete_card(e.tableid)}}},[s("i",{staticClass:"fas fa-trash-alt"})])]),s("div",{staticClass:"col-12",staticStyle:{"font-weight":"lighter"}},[t._v("Автор: "+t._s(e.email)+" - предприятие, обновлено "+t._s(e.update_user)+" "+t._s(t.getTime(e.update_time)))])])]),s("div",{staticClass:"card-body",staticStyle:{padding:"0px"}},[s("div",{staticClass:"exportBtn",on:{click:function(s){return t.export_to_excel(e.tableid)}}},[t._v("Экспорт в excel")])])]):s("div",{staticClass:"card",staticStyle:{"margin-bottom":"1em"}},[s("div",{staticClass:"card-header"},[s("div",{staticClass:"row"},[t._m(4,!0),s("div",{staticClass:"col-2 col-md-1"},[s("button",{staticClass:"btn btn-almbb-small btn-almbb-info",on:{click:function(s){return t.edit_card(e.tableid,e.role)}}},[s("i",{staticClass:"far fa-edit"})])]),s("div",{staticClass:"col-2 col-md-1"},[s("button",{staticClass:"btn btn-almbb-danger btn-almbb-small",on:{click:function(s){return t.delete_card(e.tableid)}}},[s("i",{staticClass:"fas fa-trash-alt"})])]),s("div",{staticClass:"col-12",staticStyle:{"font-weight":"lighter"}},[t._v("Автор: "+t._s(e.email)+" - предприятие, обновлено "+t._s(e.update_user)+" "+t._s(t.getTime(e.update_time)))])])]),s("div",{staticClass:"card-body",staticStyle:{padding:"0px"}},[s("div",{staticClass:"exportBtn",on:{click:function(s){return t.export_to_excel(e.tableid)}}},[t._v("Экспорт в excel")])])])]):t._e()]):t._e()])}))],2):t._e()]),s("div",{staticClass:"footer"},[s("Footer")],1)])},z=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-8 col-md-10",staticStyle:{"font-weight":"bold"}},[s("h4",[t._v("Данные о компании или должности не заполнены")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-8 col-md-10",staticStyle:{"font-weight":"bold"}},[s("h4",[t._v("Данные о карточке не заполнены")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-8 col-md-10",staticStyle:{"font-weight":"bold"}},[s("h4",[t._v("Данные о карточке не заполнены")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-8 col-md-10",staticStyle:{"font-weight":"bold"}},[s("h4",[t._v("Данные о компании или должности не заполнены")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-8 col-md-10",staticStyle:{"font-weight":"bold"}},[s("h4",[t._v("Данные о карточке не заполнены")])])}],R={name:"YourCards",components:{Footer:P},data:function(){return{email:this.$store.getters.email,SessionID:this.$store.getters.SessionID,role:this.$store.state.role,data:[],cards:[],what_show:1}},beforeMount:function(){var t=this;void 0==this.email?window.location.href="/login":"metodist"==this.$store.getters.role||"company"==this.$store.getters.role?fetch(this.$store.state.serverIp+"/api/getDataList",{method:"POST",body:JSON.stringify({email:this.email,sessionid:this.SessionID}),headers:{"Content-Type":"application/json"}}).then((function(t){return t.json()})).then((function(e){"310"==e.data&&(document.cookie="email=;expires=Thu, 01 Jan 1970 00:00:01 GMT",document.cookie="SessionID=;expires=Thu, 01 Jan 1970 00:00:01 GMT",window.location.reload()),t.data=e.data;for(var s=0;s<e.data.length;s++)t.cards.push({job:e.data[s].data.job,company:e.data[s].data.company,sphere:e.data[s].data.sphere,tableid:e.data[s].tableid,role:e.data[s].role,email:e.data[s].email,update_time:e.data[s].data.update_time,update_user:e.data[s].data.update_user})})).catch((function(t){console.log(t)})):"admin"==this.$store.getters.role&&fetch(this.$store.state.serverIp+"/api/getAllData",{method:"POST",body:JSON.stringify({email:this.email,sessionid:this.SessionID}),headers:{"Content-Type":"application/json"}}).then((function(t){return t.json()})).then((function(e){t.data=e.data;for(var s=0;s<e.data.length;s++)t.cards.push({job:e.data[s].data.job,company:e.data[s].data.company,sphere:e.data[s].data.sphere,card_name:e.data[s].data.card_name,tableid:e.data[s].tableid,role:e.data[s].role,email:e.data[s].email,update_time:e.data[s].data.update_time,update_user:e.data[s].data.update_user})})).catch((function(t){console.log(t)}))},methods:{edit_card:function(t){"admin"==this.email&&1==this.what_show?document.location.pathname="/edit-filter-card/"+t:document.location.pathname="/edit-card/"+t},delete_card:function(t){var e=this;h.a.fire({text:"Вы уверены, что хотите удалить эту карточку?",showCancelButton:!0,cancelButtonText:"Отмена",preConfirm:function(){fetch(e.$store.state.serverIp+"/api/deleteData",{method:"POST",body:JSON.stringify({email:e.email,sessionid:e.SessionID,tableid:t}),headers:{"Content-Type":"application/json"}}).then((function(t){return t.json()})).then((function(s){if("310"==s.data)document.cookie="email=;expires=Thu, 01 Jan 1970 00:00:01 GMT",document.cookie="SessionID=;expires=Thu, 01 Jan 1970 00:00:01 GMT",window.location.reload();else if("OK"==s.data){h.a.fire({icon:"success",text:"Файл успешно удален",showConfirmButton:!1,timer:1500});for(var a=0;a<e.cards.length;a++)if(e.cards[a].tableid==t)return void e.cards.splice(a,1)}})).catch((function(t){console.log(t)}))}})},export_to_excel:function(t){for(var e,a,i=0;i<this.data.length;i++)this.data[i].tableid==t&&(e=i,a=this.data[i].role);var n=s("be56");if("admin"==this.email&&1==this.what_show){var o={};o.fileName=this.data[e].data.card_name;var r=[];r.push({one:"Наименование специальности / компетенции / заказчик",two:"Уровень подготовки",three:"Потребность в подготовке 2021",four:"Потребность в подготовке 2022",five:"Потребность в подготовке 2023",six:"Да/нет/эксперт/количество",seven:"Имеется ли корпоративная программа подготовки",eight:"Наличие МТБ для подготовки",nine:"Сколько стоит создать МТБ",ten:"Город расположения организации",eleven:"ФИО ответственного",twelve:"Должность",thirteen:"Телефон",fourteen:"Почта"});for(var l=0;l<this.data[e].data.step1.length;l++)15==this.data[e].data.step1[l][16]&&r.push({one:this.data[e].data.step1[l][0],two:this.data[e].data.step1[l][1],three:this.data[e].data.step1[l][2],four:this.data[e].data.step1[l][3],five:this.data[e].data.step1[l][4],six:this.data[e].data.step1[l][5],seven:this.data[e].data.step1[l][6],eight:this.data[e].data.step1[l][7],nine:this.data[e].data.step1[l][8],ten:this.data[e].data.step1[l][9],eleven:this.data[e].data.step1[l][10],twelve:this.data[e].data.step1[l][11],thirteen:this.data[e].data.step1[l][12],fourteen:this.data[e].data.step1[l][13]});o.datas=[{sheetData:r,sheetName:"Информация о потребностях",sheetFilter:["one","two","three","four","five","six","seven","eight","nine","ten","eleven","twelve","thirteen","fourteen"],columnWidths:[10,10,10,10,10,10,10,10,10,10,10,10,10,10,10]}];var d=new n(o);d.saveExcel()}else if("metodist"==this.$store.getters.role||"metodist"==a){var c={};c.fileName=this.data[e].data.job+", "+this.data[e].data.company;for(var p=[],u=[],h=[],m=1,_=0;_<this.data[e].data.step1.length;_++)p.push({one:this.data[e].data.step1[_][0],two:this.data[e].data.step1[_][1],three:this.data[e].data.step1[_][2]});for(var g=0;g<this.data[e].data.step2.length;g++){0!=g&&(u.push({one:"",two:"",three:"",four:"",five:"",six:"",seven:"",eight:"",nine:"",ten:""}),u.push({one:"",two:"",three:"",four:"",five:"",six:"",seven:"",eight:"",nine:"",ten:""})),u.push({one:this.data[e].data.step1[g][0],two:"",three:"",four:"",five:"",six:"",seven:"",eight:"",nine:"",ten:""}),u.push({one:"№",two:"ПЗ",three:"КОС",four:"Знания",five:"Ссылка в сети Интернет на открытую информацию",six:"Продвинутый уровень",seven:"Начальный уровень",eight:"Инструмент",nine:"Оборудование",ten:"Расходный материал"});for(var v=0;v<this.data[e].data.step2[g].length;v++)u.push({one:this.data[e].data.step2[g][v][0],two:this.data[e].data.step2[g][v][1],three:this.data[e].data.step2[g][v][2],four:this.data[e].data.step2[g][v][3],five:this.data[e].data.step2[g][v][4],six:this.data[e].data.step2[g][v][5],seven:this.data[e].data.step2[g][v][6],eight:this.data[e].data.step2[g][v][7],nine:this.data[e].data.step2[g][v][8],ten:this.data[e].data.step2[g][v][9]}),h.push({one:m,two:this.data[e].data.step2[g][v][0],three:this.data[e].data.step2[g][v][10],four:this.data[e].data.step2[g][v][11],five:this.data[e].data.step2[g][v][12],six:this.data[e].data.step2[g][v][13]}),m++}c.datas=[{sheetData:[{one:this.data[e].data.job,two:this.data[e].data.company}],sheetName:"Должность и предприятие",sheetFilter:["one","two"],sheetHeader:["Должность","Предприятие"],columnWidths:[10,10]},{sheetData:p,sheetName:"Результат обучения",sheetFilter:["one","two","three"],sheetHeader:["Навык","Трудовая операция","Показатель оценки трудовой операции"],columnWidths:[10,20,30]},{sheetData:u,sheetName:"Содержание образ. программы",sheetFilter:["one","two","three","four","five","six","seven","eight","nine","ten"],columnWidths:[3,3,12,12,7,6,6,5,5,5]},{sheetData:h,sheetName:"Конструктор программы",sheetFilter:["one","two","three","four","five","six"],sheetHeader:["№","Наименование темы","16 часов","72 часа","144 часа","256 часов"],columnWidths:[2,5,5,5,5,5]}];var f=new n(c);f.saveExcel()}else if("company"==this.$store.getters.role||"company"==a){var y={};y.fileName=this.data[e].data.company+", "+this.data[e].data.sphere;var b=[];b.push({one:"Наименование специальности / компетенции / заказчик",two:"Уровень подготовки",three:"Потребность в подготовке 2021",four:"Потребность в подготовке 2022",five:"Потребность в подготовке 2023",six:"Да/нет/эксперт/количество",seven:"Имеется ли корпоративная программа подготовки",eight:"Наличие МТБ для подготовки",nine:"Сколько стоит создать МТБ"});for(var w=0;w<this.data[e].data.step1.length;w++)b.push({one:this.data[e].data.step1[w][0],two:this.data[e].data.step1[w][1],three:this.data[e].data.step1[w][2],four:this.data[e].data.step1[w][3],five:this.data[e].data.step1[w][4],six:this.data[e].data.step1[w][5],seven:this.data[e].data.step1[w][6],eight:this.data[e].data.step1[w][7],nine:this.data[e].data.step1[w][8]});y.datas=[{sheetData:[{one:this.data[e].data.company,two:this.data[e].data.sphere,three:this.data[e].data.org_city,four:this.data[e].data.responsible_person,five:this.data[e].data.post,six:this.data[e].data.phone,seven:this.data[e].data.card_email}],sheetName:"Информация о предприятии",sheetFilter:["one","two","three","four","five","six","seven"],sheetHeader:["Название предприятия","Сфера","Город расположения организации","ФИО ответственного","Должность","Телефон","Почта"],columnWidths:[10,10,10,10,10,10,10]},{sheetData:b,sheetName:"Информация о потребностях",sheetFilter:["one","two","three","four","five","six","seven","eight","nine","ten","eleven","twelve","thirteen","fourteen"],columnWidths:[10,10,10,10,10,10,10,10,10,10,10,10,10,10,10]}];var C=new n(y);C.saveExcel()}},getTime:function(t){var e,s,a,i=new Date,n=i.getTimezoneOffset(),o=new Date(t[0],t[1],t[2],t[3]-Math.floor(n/60),t[4]-n%60),r=o.getMonth()+1,l=o.getFullYear();return e=o.getHours()<10?"0"+o.getHours():o.getHours(),s=o.getMinutes()<10?"0"+o.getMinutes():o.getMinutes(),a=o.getDate()<10?"0"+o.getDate():o.getDate(),r=o.getMonth()<9?"0"+(o.getMonth()+1):o.getMonth()+1,a+"."+r+"."+l+" в "+e+":"+s},filter:function(t,e){for(var s in e)document.getElementById(e[s]).checked=!1;this.what_show=t}}},q=R,A=(s("a9fe"),Object(g["a"])(q,L,z,!1,null,"109deb0f",null)),Y=A.exports,W=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"main"},["metodist"==this.$store.getters.role||"metodist"==t.role_for_admin?s("div",[0!=t.step&&""!=t.job&&""!=t.company?s("div",{staticClass:"place"},[s("div",{staticClass:"name text-center"},[t._v(t._s(t.job+", "+t.company))])]):0!=t.step?s("div",{staticClass:"place"},[s("div",{staticClass:"name text-center"},[t._v("Данные о компании или должности не заполнены")])]):t._e(),0==t.step?s("table",{staticStyle:{width:"100%"},attrs:{id:"table"}},[t._m(0),s("tr",{staticClass:"trstyle2"},[s("td",{staticClass:"elmincenter",staticStyle:{padding:"0px"}},[s("input",{staticClass:"tinput",attrs:{type:"text",id:"1.1"},domProps:{value:t.job},on:{input:function(e){return t.update_step0(1)}}})]),s("td",{staticClass:"elmincenter",staticStyle:{padding:"0px"}},[s("input",{staticClass:"tinput",attrs:{type:"text",id:"1.2"},domProps:{value:t.company},on:{input:function(e){return t.update_step0(2)}}})])])]):t._e(),1==t.step?s("table",{staticStyle:{width:"100%"},attrs:{id:"table2"}},[t._m(1),t._l(t.rows1,(function(e){return s("tr",{key:e,staticClass:"trstyle2",attrs:{id:e}},[s("td",{staticStyle:{padding:"0px"}},[s("textarea",{staticClass:"tinput",attrs:{type:"text",id:e+".1"},domProps:{value:t.step1[e][0]},on:{input:function(s){t.update_step1(e,1),t.change_width()}}})]),s("td",{staticClass:"elmincenter",staticStyle:{padding:"0px"}},[s("textarea",{staticClass:"tinput",attrs:{type:"text",id:e+".2"},domProps:{value:t.step1[e][1]},on:{input:function(s){t.update_step1(e,2),t.change_width()}}})]),s("td",{staticClass:"elmincenter",staticStyle:{padding:"0px"}},[s("textarea",{staticClass:"tinput",attrs:{type:"text",id:e+".3"},domProps:{value:t.step1[e][2]},on:{input:function(s){t.update_step1(e,3),t.change_width()}}})]),s("td",[s("button",{staticClass:"delb",on:{click:function(s){return t.del_row(e)}}},[s("i",{staticClass:"fas fa-times"})])])])}))],2):t._e(),2==t.step?s("table",{staticStyle:{width:"100%"},attrs:{id:"table3"}},[s("caption",{staticStyle:{"background-color":"yellow",width:"100%","caption-side":"top",color:"black","font-size":"1.1em","text-align":"center","font-weight":"bold"}},[t._v(t._s(t.step1[t.dop_step][0]))]),t._m(2),t._m(3),t._l(t.rows2[t.dop_step],(function(e,a){return s("tr",{key:e,staticClass:"trstyle2",attrs:{id:a}},[s("td",{staticStyle:{padding:"0px"}},[s("textarea",{staticClass:"tinput",staticStyle:{width:"250px"},attrs:{type:"text",id:e+".1"},domProps:{value:t.step2[t.dop_step][e][0]},on:{input:function(s){t.update_step2(e,1),t.change_width()}}})]),s("td",{staticClass:"elmincenter",staticStyle:{padding:"0px"}},[s("textarea",{staticClass:"tinput",staticStyle:{width:"250px"},attrs:{type:"text",id:e+".2"},domProps:{value:t.step2[t.dop_step][e][1]},on:{input:function(s){t.update_step2(e,2),t.change_width()}}})]),s("td",{staticClass:"elmincenter",staticStyle:{padding:"0px"}},[s("textarea",{staticClass:"tinput",staticStyle:{width:"250px"},attrs:{type:"text",id:e+".3"},domProps:{value:t.step2[t.dop_step][e][2]},on:{input:function(s){t.update_step2(e,3),t.change_width()}}})]),s("td",{staticClass:"elmincenter",staticStyle:{padding:"0px"}},[s("textarea",{staticClass:"tinput",staticStyle:{width:"250px"},attrs:{type:"text",id:e+".4"},domProps:{value:t.step2[t.dop_step][e][3]},on:{input:function(s){t.update_step2(e,4),t.change_width()}}})]),s("td",{staticClass:"elmincenter",staticStyle:{padding:"0px"}},[s("textarea",{staticClass:"tinput",staticStyle:{width:"250px"},attrs:{type:"text",id:e+".5"},domProps:{value:t.step2[t.dop_step][e][4]},on:{input:function(s){t.update_step2(e,5),t.change_width()}}})]),s("td",{staticClass:"elmincenter",staticStyle:{padding:"0px"},attrs:{id:e+".6"}},[t._v(" Выполнение совместно с экспертом (ч): "),s("input",{staticClass:"tinput",staticStyle:{width:"250px"},attrs:{type:"text",id:e+".6.1"},domProps:{value:t.step2[t.dop_step][e][5][0]},on:{input:function(s){return t.update_step2(e,6,1)}}}),t._v(" Выполнение сомостоятельное + онализ ошибок (ч): "),s("input",{staticClass:"tinput",staticStyle:{width:"250px"},attrs:{type:"text",id:e+".6.2"},domProps:{value:t.step2[t.dop_step][e][5][1]},on:{input:function(s){return t.update_step2(e,6,2)}}}),t._v(" Выполнение самостоятельное (повторное) (ч): "),s("input",{staticClass:"tinput",staticStyle:{width:"250px"},attrs:{type:"text",id:e+".6.3"},domProps:{value:t.step2[t.dop_step][e][5][2]},on:{input:function(s){return t.update_step2(e,6,3)}}}),t._v(" Выполнение контрольное (ч): "),s("input",{staticClass:"tinput",staticStyle:{width:"250px"},attrs:{type:"text",id:e+".6.4"},domProps:{value:t.step2[t.dop_step][e][5][3]},on:{input:function(s){return t.update_step2(e,6,4)}}}),t._v(" Итого (ч): "),s("div",{staticStyle:{width:"250px"},attrs:{id:e+".6.5"}},[t._v(t._s(t.count_hours(e,6)))])]),s("td",{staticClass:"elmincenter",staticStyle:{padding:"0px"},attrs:{id:e+".7"}},[t._v(" Выполнение совместно с экспертом (ч): "),s("input",{staticClass:"tinput",staticStyle:{width:"250px"},attrs:{type:"text",id:e+".7.1"},domProps:{value:t.step2[t.dop_step][e][6][0]},on:{input:function(s){return t.update_step2(e,7,1)}}}),t._v(" Выполнение сомостоятельное + онализ ошибок (ч): "),s("input",{staticClass:"tinput",staticStyle:{width:"250px"},attrs:{type:"text",id:e+".7.2"},domProps:{value:t.step2[t.dop_step][e][6][1]},on:{input:function(s){return t.update_step2(e,7,2)}}}),t._v(" Выполнение самостоятельное (повторное) (ч): "),s("input",{staticClass:"tinput",staticStyle:{width:"250px"},attrs:{type:"text",id:e+".7.3"},domProps:{value:t.step2[t.dop_step][e][6][2]},on:{input:function(s){return t.update_step2(e,7,3)}}}),t._v(" Выполнение контрольное (ч): "),s("input",{staticClass:"tinput",staticStyle:{width:"250px"},attrs:{type:"text",id:e+".7.4"},domProps:{value:t.step2[t.dop_step][e][6][3]},on:{input:function(s){return t.update_step2(e,7,4)}}}),t._v(" Итого (ч): "),s("div",{staticStyle:{width:"250px"},attrs:{id:e+".7.5"}},[t._v(t._s(t.count_hours(e,7)))])]),s("td",{staticClass:"elmincenter",staticStyle:{padding:"0px"}},[s("textarea",{staticClass:"tinput",staticStyle:{width:"250px"},attrs:{type:"text",id:e+".8"},domProps:{value:t.step2[t.dop_step][e][7]},on:{input:function(s){t.update_step2(e,8),t.change_width()}}})]),s("td",{staticClass:"elmincenter",staticStyle:{padding:"0px"}},[s("textarea",{staticClass:"tinput",staticStyle:{width:"250px"},attrs:{type:"text",id:e+".9"},domProps:{value:t.step2[t.dop_step][e][8]},on:{input:function(s){t.update_step2(e,9),t.change_width()}}})]),s("td",{staticClass:"elmincenter",staticStyle:{padding:"0px"}},[s("textarea",{staticClass:"tinput",staticStyle:{width:"250px"},attrs:{type:"text",id:e+".10"},domProps:{value:t.step2[t.dop_step][e][9]},on:{input:function(s){t.update_step2(e,10),t.change_width()}}})]),s("td",[s("button",{staticClass:"delb",on:{click:function(e){return t.del_row(a)}}},[s("i",{staticClass:"fas fa-times"})])])])}))],2):t._e(),3==t.step?s("table",{staticStyle:{width:"100%"},attrs:{id:"table4"}},[t._m(4),t._m(5),t._l(t.step3,(function(e,a){return s("tr",{key:e,staticClass:"trstyle2"},[s("th",{staticClass:"thead",staticStyle:{padding:"0px"}},[t._v(t._s(a+1))]),s("th",{staticClass:"elmincentertop thead",staticStyle:{padding:"0px"}},[t._v(t._s(t.make_normal(e[0])))]),s("td",{staticClass:"elmincenter",staticStyle:{padding:"0px"}},[s("textarea",{staticClass:"tinput",attrs:{type:"text",id:Number(a+1)+".1"},domProps:{value:e[1]},on:{input:function(e){t.update_step3(a+1,1),t.change_width()}}})]),s("td",{staticClass:"elmincenter",staticStyle:{padding:"0px"}},[s("textarea",{staticClass:"tinput",attrs:{type:"text",id:Number(a+1)+".2"},domProps:{value:e[2]},on:{input:function(e){t.update_step3(a+1,2),t.change_width()}}})]),s("td",{staticClass:"elmincenter",staticStyle:{padding:"0px"}},[s("textarea",{staticClass:"tinput",attrs:{type:"text",id:Number(a+1)+".3"},domProps:{value:e[3]},on:{input:function(e){t.update_step3(a+1,3),t.change_width()}}})]),s("td",{staticStyle:{padding:"0px"}},[s("textarea",{staticClass:"tinput",attrs:{type:"text",id:Number(a+1)+".4"},domProps:{value:e[4]},on:{input:function(e){t.update_step3(a+1,4),t.change_width()}}})])])}))],2):t._e(),s("br"),s("div",{staticClass:"row justify-content-end"},[s("div",{staticClass:"col-1"},[0!=t.step&&3!=t.step?s("button",{staticClass:"btn btn-almbb-danger btn-almbb-small",staticStyle:{"border-radius":"50%","font-size":"1.2em"},on:{click:function(e){return t.rows_number("-")}}},[s("i",{staticClass:"fas fa-minus"})]):t._e()]),s("div",{staticClass:"col-1"},[0!=t.step&&3!=t.step?s("button",{staticClass:"btn btn-almbb-success btn-almbb-small",staticStyle:{"border-radius":"50%","font-size":"1.2em"},on:{click:function(e){return t.rows_number("+")}}},[s("i",{staticClass:"fas fa-plus"})]):t._e()])]),s("br"),s("br"),s("br"),s("div",{staticClass:"row buttons"},[s("div",{staticClass:"col-4"},[0!=t.step?s("button",{staticClass:"btn btn-elegant swb",staticStyle:{width:"100%"},on:{click:function(e){return t.change_step("-")}}},[t._v("Назад")]):t._e()]),s("div",{staticClass:"col-4"},[s("button",{staticClass:"btn btn-almbb-success swb",staticStyle:{width:"100%"},on:{click:function(e){return t.save()}}},[t._v("Сохранить")])]),s("div",{staticClass:"col-4"},[3!=t.step?s("button",{staticClass:"btn btn-blue swb",staticStyle:{width:"100%"},on:{click:function(e){return t.change_step("+")}}},[t._v("Далее")]):t._e()])]),0!=t.step&&3!=t.step?s("button",{staticClass:"btn questionBtn",on:{click:function(e){return t.usefullInfo()}}},[s("i",{staticClass:"fas fa-question"})]):t._e()]):t._e(),"company"==this.$store.getters.role||"company"==t.role_for_admin?s("div",[0!=t.step&&""!=t.sphere&&""!=t.company?s("div",{staticClass:"place"},[s("div",{staticClass:"name text-center"},[t._v(t._s(t.company)+", "+t._s(t.sphere))])]):0!=t.step?s("div",{staticClass:"place"},[s("div",{staticClass:"name text-center"},[t._v("Данные о карточке не заполнены")])]):t._e(),0==t.step?s("table",{staticClass:"tb",attrs:{id:"table"}},[s("tr",{staticClass:"trstyle"},[s("th",{staticClass:"thead elmincentertop"},[t._v("Название предприятия")]),s("th",{staticClass:"thead elmincentertop"},[t._v("Сфера "),t.other?s("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(e){return t.show_other(!1)}}},[t._v("Вернуться к списку")]):t._e()]),s("th",{staticClass:"thead elmincentertop"},[t._v("Город расположения организации")]),s("th",{staticClass:"thead elmincentertop"},[t._v("ФИО ответственного")]),s("th",{staticClass:"thead elmincentertop"},[t._v("Должность")]),s("th",{staticClass:"thead elmincentertop"},[t._v("Телефон")]),s("th",{staticClass:"thead elmincentertop"},[t._v("Почта")])]),s("tr",{staticClass:"trstyle2"},[s("td",{staticClass:"elmincenter",staticStyle:{padding:"0px"}},[s("input",{staticClass:"tinput",staticStyle:{width:"250px"},attrs:{type:"text",id:"1.1"},domProps:{value:t.company},on:{input:function(e){return t.update_step0(1)}}})]),s("td",{staticClass:"elmincenter",staticStyle:{padding:"0px"}},[t.other?t._e():s("select",{staticClass:"tinput",staticStyle:{width:"250px"},attrs:{id:"1.2"},on:{input:function(e){return t.update_step0(2)}}},[s("option",{attrs:{selected:""}},[t._v(t._s(t.sphere))]),s("option",[t._v("Транспорт и логистика")]),s("option",[t._v("Агрокомплекс")]),s("option",[t._v("Рыбная промышленность")]),s("option",[t._v("Туризм")]),s("option",[t._v("Сфера услуг")]),s("option",[t._v("Строительство")]),s("option",[t._v("Энергетика /нефть, газ, уголь, другие источники энергии/")]),s("option",[t._v("ЖКХ")]),s("option",[t._v("Другое")])]),t.other?s("input",{staticClass:"tinput",attrs:{type:"text",id:"1.2"},domProps:{value:t.sphere},on:{input:function(e){return t.update_step0(2)}}}):t._e()]),s("td",{staticClass:"elmincenter",staticStyle:{padding:"0px"}},[s("input",{staticClass:"tinput",staticStyle:{width:"250px"},attrs:{type:"text",id:"1.3"},domProps:{value:t.org_city},on:{input:function(e){return t.update_step0(3)}}})]),s("td",{staticClass:"elmincenter",staticStyle:{padding:"0px"}},[s("input",{staticClass:"tinput",staticStyle:{width:"250px"},attrs:{type:"text",id:"1.4"},domProps:{value:t.responsible_person},on:{input:function(e){return t.update_step0(4)}}})]),s("td",{staticClass:"elmincenter",staticStyle:{padding:"0px"}},[s("input",{staticClass:"tinput",staticStyle:{width:"250px"},attrs:{type:"text",id:"1.5"},domProps:{value:t.post},on:{input:function(e){return t.update_step0(5)}}})]),s("td",{staticClass:"elmincenter",staticStyle:{padding:"0px"}},[s("input",{staticClass:"tinput",staticStyle:{width:"250px"},attrs:{type:"text",id:"1.6"},domProps:{value:t.phone},on:{input:function(e){return t.update_step0(6)}}})]),s("td",{staticClass:"elmincenter",staticStyle:{padding:"0px"}},[s("input",{staticClass:"tinput",staticStyle:{width:"250px"},attrs:{type:"text",id:"1.7"},domProps:{value:t.card_email},on:{input:function(e){return t.update_step0(7)}}})])])]):t._e(),1==t.step?s("table",{staticStyle:{width:"100%"},attrs:{id:"table2"}},[t._m(6),t._m(7),t._l(t.rows1,(function(e){return s("tr",{key:e,staticClass:"trstyle2",attrs:{id:e}},[s("td",{staticStyle:{padding:"0px"}},[s("textarea",{staticClass:"tinput",staticStyle:{width:"250px"},attrs:{type:"text",id:e+".1"},domProps:{value:t.step1[e][0]},on:{input:function(s){t.update_step1(e,1),t.change_width()}}})]),s("td",{staticClass:"elmincenter",staticStyle:{padding:"0px"}},[s("textarea",{staticClass:"tinput",staticStyle:{width:"250px"},attrs:{type:"text",id:e+".2"},domProps:{value:t.step1[e][1]},on:{input:function(s){t.update_step1(e,2),t.change_width()}}})]),s("td",{staticClass:"elmincenter",staticStyle:{padding:"0px"}},[s("textarea",{staticClass:"tinput",staticStyle:{width:"100px"},attrs:{type:"text",id:e+".3"},domProps:{value:t.step1[e][2]},on:{input:function(s){t.update_step1(e,3),t.change_width()}}})]),s("td",{staticClass:"elmincenter",staticStyle:{padding:"0px"}},[s("textarea",{staticClass:"tinput",staticStyle:{width:"100px"},attrs:{type:"text",id:e+".4"},domProps:{value:t.step1[e][3]},on:{input:function(s){t.update_step1(e,4),t.change_width()}}})]),s("td",{staticClass:"elmincenter",staticStyle:{padding:"0px"}},[s("textarea",{staticClass:"tinput",staticStyle:{width:"100px"},attrs:{type:"text",id:e+".5"},domProps:{value:t.step1[e][4]},on:{input:function(s){t.update_step1(e,5),t.change_width()}}})]),s("td",{staticClass:"elmincenter",staticStyle:{padding:"0px"}},[s("textarea",{staticClass:"tinput",staticStyle:{width:"150px"},attrs:{type:"text",id:e+".6"},domProps:{value:t.step1[e][5]},on:{input:function(s){t.update_step1(e,6),t.change_width()}}})]),s("td",{staticClass:"elmincenter",staticStyle:{padding:"0px"}},[s("textarea",{staticClass:"tinput",staticStyle:{width:"150px"},attrs:{type:"text",id:e+".7"},domProps:{value:t.step1[e][6]},on:{input:function(s){t.update_step1(e,7),t.change_width()}}})]),s("td",{staticClass:"elmincenter",staticStyle:{padding:"0px"}},[s("textarea",{staticClass:"tinput",staticStyle:{width:"250px"},attrs:{type:"text",id:e+".8"},domProps:{value:t.step1[e][7]},on:{input:function(s){t.update_step1(e,8),t.change_width()}}})]),s("td",{staticClass:"elmincenter",staticStyle:{padding:"0px"}},[s("textarea",{staticClass:"tinput",staticStyle:{width:"250px"},attrs:{type:"text",id:e+".9"},domProps:{value:t.step1[e][8]},on:{input:function(s){t.update_step1(e,9),t.change_width()}}})]),s("td",[s("button",{staticClass:"delb",on:{click:function(s){return t.del_row(e)}}},[s("i",{staticClass:"fas fa-times"})])])])}))],2):t._e(),s("br"),s("div",{staticClass:"row justify-content-end"},[s("div",{staticClass:"col-3 col-md-1"},[0!=t.step?s("button",{staticClass:"btn btn-almbb-danger btn-almbb-small",staticStyle:{"border-radius":"50%","font-size":"1.2em"},on:{click:function(e){return t.rows_number("-")}}},[s("i",{staticClass:"fas fa-minus"})]):t._e()]),s("div",{staticClass:"col-3 col-md-1"},[0!=t.step?s("button",{staticClass:"btn btn-almbb-success btn-almbb-small",staticStyle:{"border-radius":"50%","font-size":"1.2em"},on:{click:function(e){return t.rows_number("+")}}},[s("i",{staticClass:"fas fa-plus"})]):t._e()])]),s("br"),s("br"),s("br"),s("div",{staticClass:"row buttons"},[s("div",{staticClass:"col-4"},[0!=t.step?s("button",{staticClass:"btn btn-elegant swb",staticStyle:{width:"100%"},on:{click:function(e){return t.change_step("-")}}},[t._v("Назад")]):t._e()]),s("div",{staticClass:"col-4"},[s("button",{staticClass:"btn btn-almbb-success swb",staticStyle:{width:"100%"},on:{click:function(e){return t.save()}}},[t._v("Сохранить")])]),s("div",{staticClass:"col-4"},[1!=t.step?s("button",{staticClass:"btn btn-blue swb",staticStyle:{width:"100%"},on:{click:function(e){return t.change_step("+")}}},[t._v("Далее")]):t._e()])])]):t._e()])},K=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("tr",{staticClass:"trstyle"},[s("th",{staticClass:"thead elmincentertop"},[t._v("Должность")]),s("th",{staticClass:"thead elmincentertop"},[t._v("Предприятие")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("tr",{staticClass:"trstyle"},[s("th",{staticClass:"thead"},[t._v("Навык")]),s("th",{staticClass:"thead elmincentertop"},[t._v("Трудовая операция")]),s("th",{staticClass:"thead elmincentertop"},[t._v("Показатель оценки трудовой операции")]),s("th",{staticClass:"thead"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("tr",{staticClass:"trstyle"},[s("th",{staticClass:"thead",attrs:{rowspan:"2"}},[t._v("№")]),s("th",{staticClass:"thead elmincentertop",attrs:{rowspan:"2"}},[t._v("ПЗ")]),s("th",{staticClass:"thead elmincentertop",attrs:{rowspan:"2"}},[t._v("КОС")]),s("th",{staticClass:"thead elmincentertop",attrs:{rowspan:"2"}},[t._v("Знания")]),s("th",{staticClass:"thead elmincentertop",attrs:{rowspan:"2"}},[t._v("Ссылка в сети на открытую информацию")]),s("th",{staticClass:"thead elmincentertop",attrs:{rowspan:"2"}},[t._v("Продвинутый уровень")]),s("th",{staticClass:"thead elmincentertop",attrs:{rowspan:"2"}},[t._v("Начальный уровень")]),s("th",{staticClass:"thead elmincentertop",staticStyle:{"border-bottom":"2px solid #c8cccf"},attrs:{rowspan:"1",colspan:"3"}},[t._v("МТБ")]),s("th",{staticClass:"thead",attrs:{rowspan:"2"}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("tr",{staticClass:"trstyle"},[s("th",{staticClass:"thead elmincentertop"},[t._v("Инструмент")]),s("th",{staticClass:"thead elmincentertop"},[t._v("Оборудование")]),s("th",{staticClass:"thead elmincentertop"},[t._v("Расходный материал")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("tr",{staticClass:"trstyle"},[s("th",{staticClass:"thead",staticStyle:{"border-bottom":"2px solid #c8cccf"},attrs:{rowspan:"2"}},[t._v("№")]),s("th",{staticClass:"thead elmincentertop",staticStyle:{"border-bottom":"2px solid #c8cccf"},attrs:{rowspan:"2"}},[t._v("Наименование темы")]),s("th",{staticClass:"thead",staticStyle:{"border-bottom":"2px solid #c8cccf"},attrs:{colspan:"4"}},[t._v("Количество часов")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("tr",{staticClass:"trstyle"},[s("th",{staticClass:"thead elmincentertop"},[t._v("16")]),s("th",{staticClass:"thead elmincentertop"},[t._v("72")]),s("th",{staticClass:"thead elmincentertop"},[t._v("144")]),s("th",{staticClass:"thead"},[t._v("256")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("tr",{staticClass:"trstyle"},[s("th",{staticClass:"thead",attrs:{rowspan:"2"}},[t._v("Наименование специальности / компетенции / заказчик")]),s("th",{staticClass:"thead elmincentertop",attrs:{rowspan:"2"}},[t._v("Уровень подготовки")]),s("th",{staticClass:"thead elmincentertop",staticStyle:{"border-bottom":"2px solid #c8cccf"},attrs:{rowspan:"1",colspan:"3"}},[t._v("Потребность в подготовке")]),s("th",{staticClass:"thead elmincentertop",attrs:{rowspan:"2"}},[t._v("Да/нет/эксперт/количество")]),s("th",{staticClass:"thead elmincentertop",attrs:{rowspan:"2"}},[t._v("Имеется ли корпоративная программа подготовки")]),s("th",{staticClass:"thead elmincentertop",staticStyle:{"border-bottom":"2px solid #c8cccf"},attrs:{rowspan:"1",colspan:"2"}},[t._v("Материально техническая база (МТБ)")]),s("th",{staticClass:"thead elmincentertop",attrs:{rowspan:"2"}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("tr",{staticClass:"trstyle"},[s("th",{staticClass:"thead elmincentertop"},[t._v("2021")]),s("th",{staticClass:"thead elmincentertop"},[t._v("2022")]),s("th",{staticClass:"thead elmincentertop"},[t._v("2023")]),s("th",{staticClass:"thead elmincentertop"},[t._v("Наличие МТБ для подготовки")]),s("th",{staticClass:"thead elmincentertop"},[t._v("Сколько стоит создать МТБ")])])}],Q={name:"EditCard",data:function(){return{rows1:[],rows2:[],step:0,dop_step:-1,role_for_admin:"",job:"",company:"",sphere:"",org_city:"",responsible_person:"",post:"",phone:"",card_email:"",other:!1,id:this.$route.params.id,step1:[],step2:[],step3:[],email:this.$store.getters.email,SessionID:this.$store.getters.SessionID,role:this.$store.getters.role}},beforeMount:function(){var t=this;void 0==this.email&&(window.location.href="/login"),fetch(this.$store.state.serverIp+"/api/getData",{method:"POST",body:JSON.stringify({email:this.email,sessionid:this.SessionID,tableid:this.id}),headers:{"Content-Type":"application/json"}}).then((function(t){return t.json()})).then((function(e){"310"==e.data&&(document.cookie="email=;expires=Thu, 01 Jan 1970 00:00:01 GMT",document.cookie="SessionID=;expires=Thu, 01 Jan 1970 00:00:01 GMT",window.location.reload()),t.job=e.data.data.job,t.company=e.data.data.company,t.sphere=e.data.data.sphere,t.org_city=e.data.data.org_city,t.responsible_person=e.data.data.responsible_person,t.post=e.data.data.post,t.phone=e.data.data.phone,t.card_email=e.data.data.card_email,t.role_for_admin=e.data.role,t.rows1=e.data.data.rows1,t.rows2=e.data.data.rows2,t.step1=e.data.data.step1,t.step2=e.data.data.step2})).catch((function(t){h.a.fire({icon:"error",text:"Непредвиденная ошибка, повторите попытку позже"}),console.log(t)}))},beforeDestroy:function(){if(confirm("Сохранить изменения?")){var t=new Date;fetch(this.$store.state.serverIp+"/api/updateData",{method:"POST",body:JSON.stringify({email:this.email,sessionid:this.SessionID,role:this.role,tableid:this.id,data:{rows1:this.rows1,rows2:this.rows2,job:this.job,company:this.company,sphere:this.sphere,org_city:this.org_city,responsible_person:this.responsible_person,post:this.post,phone:this.phone,card_email:this.card_email,step1:this.step1,step2:this.step2,update_user:this.email,update_time:[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes()]}}),headers:{"Content-Type":"application/json"}}).then((function(t){return t.json()})).then((function(t){"310"==t.data&&(document.cookie="email=;expires=Thu, 01 Jan 1970 00:00:01 GMT",document.cookie="SessionID=;expires=Thu, 01 Jan 1970 00:00:01 GMT",window.location.reload())})).catch((function(t){console.log(t)}))}},methods:{rows_number:function(t){1==this.step?"+"==t?"metodist"==this.$store.getters.role||"metodist"==this.role_for_admin?(this.step1.push(["","",""]),this.rows1.push(this.rows1.length)):"company"!=this.$store.getters.role&&"company"!=this.role_for_admin||(this.step1.push(["","","","","","","","",""]),this.rows1.push(this.rows1.length)):"-"==t&&(this.rows1.splice(-1,1),this.step1.splice(-1,1)):2==this.step&&("+"==t?(this.step2[this.dop_step].push(["","","","","",[0,0,0,0],[0,0,0,0],"","","","","","",""]),this.rows2[this.dop_step].push(this.rows2[this.dop_step].length)):"-"==t&&(this.rows2[this.dop_step].splice(-1,1),this.step2[this.dop_step].splice(-1,1)))},del_row:function(t){var e=this;h.a.fire({text:"Вы уверены, что хотите удалить эту строку?",showCancelButton:!0,cancelButtonText:"Отмена",preConfirm:function(){1==e.step?(e.rows1.splice(-1,1),e.step1.splice(t,1)):2==e.step&&(e.rows2[e.dop_step].splice(-1,1),e.step2[e.dop_step].splice(t,1))}})},save:function(){var t=new Date;fetch(this.$store.state.serverIp+"/api/updateData",{method:"POST",body:JSON.stringify({email:this.email,sessionid:this.SessionID,role:this.role,tableid:this.id,data:{rows1:this.rows1,rows2:this.rows2,job:this.job,company:this.company,sphere:this.sphere,org_city:this.org_city,responsible_person:this.responsible_person,post:this.post,phone:this.phone,card_email:this.card_email,step1:this.step1,step2:this.step2,update_user:this.email,update_time:[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes()]}}),headers:{"Content-Type":"application/json"}}).then((function(t){return t.json()})).then((function(t){"310"==t.data?(document.cookie="email=;expires=Thu, 01 Jan 1970 00:00:01 GMT",document.cookie="SessionID=;expires=Thu, 01 Jan 1970 00:00:01 GMT",window.location.reload()):h.a.fire({icon:"success",text:"Файл успешно обновлен",showConfirmButton:!1,timer:1500})})).catch((function(t){console.log(t)}))},change_step:function(t){var e=this;if("-"==t?2==this.step&&0!=this.dop_step||(this.step-=1):2==this.step&&this.dop_step!=this.step1.length-1||(1==this.step?0!=this.step1.length&&(this.step+=1):this.step+=1),1==this.step){if("metodist"==this.$store.getters.role||"metodist"==this.role_for_admin){this.dop_step=-1;var s=setInterval((function(){if(document.getElementById(e.step1.length-1+".3")||0==e.step1.length){clearInterval(s),e.job=document.getElementById("1.1").value,e.company=document.getElementById("1.2").value;for(var t=0;t<e.step1.length;t++)e.change_width(t)}}),100)}else if("company"==this.$store.getters.role||"company"==this.role_for_admin){this.company=document.getElementById("1.1").value,this.sphere=document.getElementById("1.2").value;var a=setInterval((function(){if(document.getElementById(e.step1.length-1+".9")||0==e.step1.length){clearInterval(a);for(var t=0;t<e.step1.length;t++)e.change_width(t)}}),100)}}else if(2==this.step){if(-1==this.dop_step)for(var i=this.step1.length-this.rows2.length,n=0;n<i;n++)this.step2.push([]),this.rows2.push([]);"+"==t?this.dop_step+=1:"-"==t&&(this.dop_step-=1);var o=setInterval((function(){if(document.getElementById(e.step2[e.dop_step].length-1+".10")||0==e.step2.length){clearInterval(o);for(var t=0;t<e.step2[e.dop_step].length;t++)e.change_width(t)}}),100)}else if(3==this.step){this.step3=[],this.dop_step=this.step1.length;for(var r=0;r<this.step2.length;r++)for(var l=0;l<this.step2[r].length;l++)this.step3.push([this.step2[r][l][0],this.step2[r][l][10],this.step2[r][l][11],this.step2[r][l][12],this.step2[r][l][13]]);var d=setInterval((function(){if(document.getElementById(e.step3.length+".4")||0==e.step3.length){clearInterval(d);for(var t=1;t<=e.step3.length;t++)e.change_width(t)}}),100)}},change_width:function(t){var e;if(e=void 0==t?event.target.id[0]:t,1==this.step){var s=document.getElementById(e+".1"),a=Math.max(Number(s.style.height.slice(0,-2)),s.scrollHeight),i=document.getElementById(e+".2"),n=Math.max(Number(i.style.height.slice(0,-2)),i.scrollHeight),o=document.getElementById(e+".3"),r=Math.max(Number(o.style.height.slice(0,-2)),o.scrollHeight);if("metodist"==this.$store.getters.role||"metodist"==this.role_for_admin){var l=Math.max(a,n,r);if(event){if(document.getElementById(event.target.id).scrollHeight>l)for(var d=1;d<4;d++)document.getElementById(e+"."+d).style.height=document.getElementById(event.target.id).scrollHeight+"px"}else document.getElementById(e+".1").style.height="auto",document.getElementById(e+".2").style.height="auto",document.getElementById(e+".3").style.height="auto",l==a?(document.getElementById(e+".1").style.height=s.scrollHeight+2+"px",document.getElementById(e+".2").style.height=s.scrollHeight+2+"px",document.getElementById(e+".3").style.height=s.scrollHeight+2+"px"):l==n?(document.getElementById(e+".1").style.height=i.scrollHeight+2+"px",document.getElementById(e+".2").style.height=i.scrollHeight+2+"px",document.getElementById(e+".3").style.height=i.scrollHeight+2+"px"):(document.getElementById(e+".1").style.height=o.scrollHeight+2+"px",document.getElementById(e+".2").style.height=o.scrollHeight+2+"px",document.getElementById(e+".3").style.height=o.scrollHeight+2+"px")}else if("company"==this.$store.getters.role||"company"==this.role_for_admin){var c=document.getElementById(e+".4"),p=Math.max(Number(c.style.height.slice(0,-2)),c.scrollHeight),u=document.getElementById(e+".5"),h=Math.max(Number(u.style.height.slice(0,-2)),u.scrollHeight),m=document.getElementById(e+".6"),_=Math.max(Number(m.style.height.slice(0,-2)),m.scrollHeight),g=document.getElementById(e+".7"),v=Math.max(Number(g.style.height.slice(0,-2)),g.scrollHeight),f=document.getElementById(e+".8"),y=Math.max(Number(f.style.height.slice(0,-2)),f.scrollHeight),b=document.getElementById(e+".9"),w=Math.max(Number(b.style.height.slice(0,-2)),b.scrollHeight),C=Math.max(a,n,r,p,h,_,v,y,w),x=[a,n,r,p,h,_,v,y,w],k=[s,i,o,c,u,m,g,f,b];if(event){if(document.getElementById(event.target.id).scrollHeight==C)for(var S=1;S<=9;S++)document.getElementById(e+"."+S).style.height=document.getElementById(event.target.id).scrollHeight+"px"}else{for(var I=1;I<=9;I++)document.getElementById(e+"."+I).style.height="auto";for(var B=1;B<=9;B++)document.getElementById(e+"."+B).style.height=k[x.lastIndexOf(C)].scrollHeight+2+"px"}}}else if(2==this.step){var E=document.getElementById(e+".1"),M=Math.max(Number(E.style.height.slice(0,-2)),E.scrollHeight),T=document.getElementById(e+".2"),P=Math.max(Number(T.style.height.slice(0,-2)),T.scrollHeight),$=document.getElementById(e+".3"),H=Math.max(Number($.style.height.slice(0,-2)),$.scrollHeight),N=document.getElementById(e+".4"),D=Math.max(Number(N.style.height.slice(0,-2)),N.scrollHeight),j=document.getElementById(e+".5"),O=Math.max(Number(j.style.height.slice(0,-2)),j.scrollHeight),U=document.getElementById(e+".6"),J=Math.max(Number(U.style.height.slice(0,-2)),U.scrollHeight),G=document.getElementById(e+".7"),F=Math.max(Number(G.style.height.slice(0,-2)),G.scrollHeight),L=document.getElementById(e+".8"),z=Math.max(Number(L.style.height.slice(0,-2)),L.scrollHeight),R=document.getElementById(e+".9"),q=Math.max(Number(R.style.height.slice(0,-2)),R.scrollHeight),A=document.getElementById(e+".10"),Y=Math.max(Number(A.style.height.slice(0,-2)),A.scrollHeight),W=Math.max(M,P,H,D,O,J,F,z,q,Y);if(void 0!=event){if(document.getElementById(event.target.id).scrollHeight>=W)for(var K=1;K<11;K++)6!=K&&7!=K&&(document.getElementById(e+"."+K).style.height=document.getElementById(event.target.id).scrollHeight+"px")}else{for(var Q=1;Q<11;Q++)6!=Q&&7!=Q&&(document.getElementById(e+"."+Q).style.height="auto");for(var V=1;V<11;V++)6!=V&&7!=V&&(document.getElementById(e+"."+V).style.height=W+"px")}}else if(3==this.step){var X=document.getElementById(e+".1"),Z=Math.max(Number(X.style.height.slice(0,-2)),X.scrollHeight),tt=document.getElementById(e+".2"),et=Math.max(Number(tt.style.height.slice(0,-2)),tt.scrollHeight),st=document.getElementById(e+".3"),at=Math.max(Number(st.style.height.slice(0,-2)),st.scrollHeight),it=document.getElementById(e+".4"),nt=Math.max(Number(it.style.height.slice(0,-2)),it.scrollHeight),ot=Math.max(Z,et,at,nt);if(void 0!=event){if(document.getElementById(event.target.id).scrollHeight>=ot)for(var rt=1;rt<5;rt++)document.getElementById(e+"."+rt).style.height=document.getElementById(event.target.id).scrollHeight+"px"}else{for(var lt=1;lt<5;lt++)document.getElementById(e+"."+lt).style.height="auto";for(var dt=1;dt<5;dt++)document.getElementById(e+"."+dt).style.height=ot+"px"}}},update_step0:function(t){if("metodist"==this.$store.getters.role||"metodist"==this.role_for_admin)1==t?this.job=document.getElementById("1.1").value:this.company=document.getElementById("1.2").value;else if("company"==this.$store.getters.role||"company"==this.role_for_admin){this.company=document.getElementById("1.1").value,this.org_city=document.getElementById("1.3").value,this.responsible_person=document.getElementById("1.4").value,this.post=document.getElementById("1.5").value,this.phone=document.getElementById("1.6").value,this.card_email=document.getElementById("1.7").value;var e=document.getElementById("1.2").value;"Другое"!=e?this.sphere=e:(this.sphere="",this.show_other(!0))}},update_step1:function(t,e){this.step1[t][e-1]=document.getElementById(t+"."+e).value},update_step2:function(t,e,s){if(s){var a=document.getElementById(t+"."+e+"."+s),i="1234567890,";if(-1!=a.value.indexOf(",",2))return void(document.getElementById(t+"."+e+"."+s).value=this.step2[this.dop_step][t][e-1][s-1]);for(var n=0;n<a.value.length;n++)if(-1==i.lastIndexOf(a.value[n]))return void(document.getElementById(t+"."+e+"."+s).value=this.step2[this.dop_step][t][e-1][s-1]);a=a.value.split(","),1==a.length?this.step2[this.dop_step][t][e-1][s-1]=Number(a[0]):2==a.length&&(this.step2[this.dop_step][t][e-1][s-1]=Number(a[0]+"."+a[1])),document.getElementById(t+"."+e+".5").innerHTML=this.count_hours(t,e)}else this.step2[this.dop_step][t][e-1]=document.getElementById(t+"."+e).value},update_step3:function(t,e){for(var s=0,a=0;a<this.step2.length;a++)for(var i=0;i<this.step2[a].length;i++){if(s==t-1)return void(this.step2[a][i][9+e]=document.getElementById(t+"."+e).value);s++}},make_normal:function(t){for(var e="",s=0,a=String.fromCharCode(173),i=0;i<t.length;i++)e+=t[i]," "!=t[i]?s+=1:s=0,12==s&&(e+=a,s=0);return e},usefullInfo:function(){1==this.step?h.a.fire({width:"100%",html:'<div>Алгоритм формирования результатов обучения</div><ol class="text-left"><li>Перенос навыка Н1 либо из корпоративного стандарта, либо из требований работодателя.</li><li>Формулировка (либо перенос) трудовых операций: ТО 1.1., ТО 1.2., ТО 1.3., ТО 1.n., - реализующих навык Н1.</li><li>Формулировка показателя оценки для каждой трудовой операции: ПО 1.1., ПО 1.2., ПО 1.3., ПО 1.n.</li></ol><div class="text-left">Дополнение: По аналогии, согласно выше указанному алгоритму, формулировка навыков: Н2, ...Нn, с соответствующими трудовыми операциями и показателями оценки.</div>'}):2==this.step&&h.a.fire({width:"100%",html:'<div>Алгоритм формирования содержания образовательной программы</div><ol class="text-left"><li>Формулировка названия профессионального модуля ПМ. 01 с результатом обучения: навык Н1 с трудовыми операциями ТО 1.1., ТО 1.2., ТО 1.3., ТО 1.n.</li><li>Формулировка тем практических занятий: ПЗ 1.1., ПЗ 1.2., ПЗ 1.3., ПЗ 1.n,  - с практическими упражнениями для отработки сответствующих трудовых операций.</li><li>Формирование контрольного задания (КОС) для выявления уровня освоения трудовой операции либо комплексного задания для выявления уровня освоения навыка Н1 в целом.</li><li>Определение количества часов на отработку трудовой операции ТО в рамках практического занятия в отдельности и навыка Н1 в целом, т.е. количества часов на профессиональный модуль ПМ. 01, в зависимости от категории слушателей.</li><li>Формулировка МТБ.</li></ol><div class="text-left">Дополнение: По аналогии, согласно выше указанному алгоритму, формирование содержания профессиональных модулей: ПМ. 02, ...ПМ. 0n.</div>'})},count_hours:function(t,e){return this.step2[this.dop_step][t][e-1][0]+this.step2[this.dop_step][t][e-1][1]+this.step2[this.dop_step][t][e-1][2]+this.step2[this.dop_step][t][e-1][3]},show_other:function(t){this.other=!!t}}},V=Q,X=(s("9bd8"),Object(g["a"])(V,W,K,!1,null,"588a4c5a",null)),Z=X.exports,tt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"main"},["admin"==this.$store.getters.role?s("div",[0==t.step?s("table",{staticClass:"tb",attrs:{id:"table"}},[t._m(0),s("tr",{staticClass:"trstyle2"},[s("td",{staticClass:"elmincenter",staticStyle:{padding:"0px"}},[s("input",{staticClass:"tinput",attrs:{type:"text",id:"1.1"},domProps:{value:t.card_name},on:{input:function(e){return t.update_step0(1)}}})])])]):1==t.step?s("div",[s("table",{staticStyle:{width:"100%"},attrs:{id:"table2"}},[s("tr",{staticClass:"trstyle"},[s("th",{staticClass:"thead elmincentertop",attrs:{rowspan:"2"}},[s("a",{staticClass:"dropdown-toggle",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v("Название предприятия")]),s("div",{staticClass:"dropdown-menu dropdown-menu-right",attrs:{"aria-labelledby":"dropdownMenuButton"}},[s("div",{staticClass:"dropdown-item"},[s("input",{attrs:{type:"checkbox",id:"company"},on:{click:function(e){return t.filter("company","companies")}}}),t._v(" Все")]),t._l(t.companies,(function(e,a){return s("div",{key:a},[s("div",{staticClass:"dropdown-item"},[s("input",{attrs:{type:"checkbox",id:"company."+a,checked:""},on:{click:function(e){return t.filter("company","companies",a)}}}),t._v(" "+t._s(a))])])}))],2)]),s("th",{staticClass:"thead elmincentertop",attrs:{rowspan:"2"}},[s("a",{staticClass:"dropdown-toggle",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v("Сфера")]),s("div",{staticClass:"dropdown-menu dropdown-menu-right",attrs:{"aria-labelledby":"dropdownMenuButton"}},[s("div",{staticClass:"dropdown-item"},[s("input",{attrs:{type:"checkbox",id:"sphere"},on:{click:function(e){return t.filter("sphere","spheres")}}}),t._v(" Все")]),t._l(t.spheres,(function(e,a){return s("div",{key:a},[s("div",{staticClass:"dropdown-item"},[s("input",{attrs:{type:"checkbox",id:"sphere."+a,checked:""},on:{click:function(e){return t.filter("sphere","spheres",a)}}}),t._v(" "+t._s(a))])])}))],2)]),s("th",{staticClass:"thead",attrs:{rowspan:"2"}},[t._m(1),s("div",{staticClass:"dropdown-menu dropdown-menu-right",attrs:{"aria-labelledby":"dropdownMenuButton"}},[s("div",{staticClass:"dropdown-item"},[s("input",{attrs:{type:"checkbox",id:"speciality_name"},on:{click:function(e){return t.filter("speciality_name","speciality_names")}}}),t._v(" Все")]),t._l(t.speciality_names,(function(e,a){return s("div",{key:a},[s("div",{staticClass:"dropdown-item"},[s("input",{attrs:{type:"checkbox",id:"speciality_name."+a,checked:""},on:{click:function(e){return t.filter("speciality_name","speciality_names",a)}}}),t._v(" "+t._s(a))])])}))],2)]),s("th",{staticClass:"thead elmincentertop",attrs:{rowspan:"2"}},[s("a",{staticClass:"dropdown-toggle",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v("Уровень подготовки")]),s("div",{staticClass:"dropdown-menu dropdown-menu-right",attrs:{"aria-labelledby":"dropdownMenuButton"}},[s("div",{staticClass:"dropdown-item"},[s("input",{attrs:{type:"checkbox",id:"skill_level"},on:{click:function(e){return t.filter("skill_level","skill_levels")}}}),t._v(" Все")]),t._l(t.skill_levels,(function(e,a){return s("div",{key:a},[s("div",{staticClass:"dropdown-item"},[s("input",{attrs:{type:"checkbox",id:"skill_level."+a,checked:""},on:{click:function(e){return t.filter("skill_level","skill_levels",a)}}}),t._v(" "+t._s(a))])])}))],2)]),s("th",{staticClass:"thead elmincentertop",staticStyle:{"border-bottom":"2px solid #c8cccf"},attrs:{rowspan:"1",colspan:"3"}},[t._v("Потребность в подготовке")]),s("th",{staticClass:"thead elmincentertop",attrs:{rowspan:"2"}},[t._m(2),s("div",{staticClass:"dropdown-menu dropdown-menu-right",attrs:{"aria-labelledby":"dropdownMenuButton"}},[s("div",{staticClass:"dropdown-item"},[s("input",{attrs:{type:"checkbox",id:"y_n_expert_count"},on:{click:function(e){return t.filter("y_n_expert_count","y_n_expert_count")}}}),t._v(" Все")]),t._l(t.y_n_expert_count,(function(e,a){return s("div",{key:a},[s("div",{staticClass:"dropdown-item"},[s("input",{attrs:{type:"checkbox",id:"y_n_expert_count."+a,checked:""},on:{click:function(e){return t.filter("y_n_expert_count","y_n_expert_count",a)}}}),t._v(" "+t._s(a))])])}))],2)]),s("th",{staticClass:"thead elmincentertop",attrs:{rowspan:"2"}},[t._m(3),s("div",{staticClass:"dropdown-menu dropdown-menu-right",attrs:{"aria-labelledby":"dropdownMenuButton"}},[s("div",{staticClass:"dropdown-item"},[s("input",{attrs:{type:"checkbox",id:"corp_prep_program"},on:{click:function(e){return t.filter("corp_prep_program","corp_prep_program")}}}),t._v(" Все")]),t._l(t.corp_prep_program,(function(e,a){return s("div",{key:a},[s("div",{staticClass:"dropdown-item"},[s("input",{attrs:{type:"checkbox",id:"corp_prep_program."+a,checked:""},on:{click:function(e){return t.filter("corp_prep_program","corp_prep_program",a)}}}),t._v(" "+t._s(a))])])}))],2)]),s("th",{staticClass:"thead elmincentertop",staticStyle:{"border-bottom":"2px solid #c8cccf"},attrs:{rowspan:"1",colspan:"2"}},[t._v("Материально техническая база (МТБ)")]),s("th",{staticClass:"thead elmincentertop",attrs:{rowspan:"2"}},[t._m(4),s("div",{staticClass:"dropdown-menu dropdown-menu-right",attrs:{"aria-labelledby":"dropdownMenuButton"}},[s("div",{staticClass:"dropdown-item"},[s("input",{attrs:{type:"checkbox",id:"org_city"},on:{click:function(e){return t.filter("org_city","org_city")}}}),t._v(" Все")]),t._l(t.org_city,(function(e,a){return s("div",{key:a},[s("div",{staticClass:"dropdown-item"},[s("input",{attrs:{type:"checkbox",id:"org_city."+a,checked:""},on:{click:function(e){return t.filter("org_city","org_city",a)}}}),t._v(" "+t._s(a))])])}))],2)]),s("th",{staticClass:"thead elmincentertop",attrs:{rowspan:"2"}},[s("a",{staticClass:"dropdown-toggle",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v("ФИО ответственного")]),s("div",{staticClass:"dropdown-menu dropdown-menu-right",attrs:{"aria-labelledby":"dropdownMenuButton"}},[s("div",{staticClass:"dropdown-item"},[s("input",{attrs:{type:"checkbox",id:"responsible_person"},on:{click:function(e){return t.filter("responsible_person","responsible_person")}}}),t._v(" Все")]),t._l(t.responsible_person,(function(e,a){return s("div",{key:a},[s("div",{staticClass:"dropdown-item"},[s("input",{attrs:{type:"checkbox",id:"responsible_person."+a,checked:""},on:{click:function(e){return t.filter("responsible_person","responsible_person",a)}}}),t._v(" "+t._s(a))])])}))],2)]),s("th",{staticClass:"thead elmincentertop",attrs:{rowspan:"2"}},[s("a",{staticClass:"dropdown-toggle",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v("Должность")]),s("div",{staticClass:"dropdown-menu dropdown-menu-right",attrs:{"aria-labelledby":"dropdownMenuButton"}},[s("div",{staticClass:"dropdown-item"},[s("input",{attrs:{type:"checkbox",id:"post"},on:{click:function(e){return t.filter("post","post")}}}),t._v(" Все")]),t._l(t.post,(function(e,a){return s("div",{key:a},[s("div",{staticClass:"dropdown-item"},[s("input",{attrs:{type:"checkbox",id:"post."+a,checked:""},on:{click:function(e){return t.filter("post","post",a)}}}),t._v(" "+t._s(a))])])}))],2)]),s("th",{staticClass:"thead elmincentertop",attrs:{rowspan:"2"}},[s("a",{staticClass:"dropdown-toggle",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v("Телефон")]),s("div",{staticClass:"dropdown-menu dropdown-menu-right",attrs:{"aria-labelledby":"dropdownMenuButton"}},[s("div",{staticClass:"dropdown-item"},[s("input",{attrs:{type:"checkbox",id:"phone"},on:{click:function(e){return t.filter("phone","phone")}}}),t._v(" Все")]),t._l(t.phone,(function(e,a){return s("div",{key:a},[s("div",{staticClass:"dropdown-item"},[s("input",{attrs:{type:"checkbox",id:"phone."+a,checked:""},on:{click:function(e){return t.filter("phone","phone",a)}}}),t._v(" "+t._s(a))])])}))],2)]),s("th",{staticClass:"thead elmincentertop",attrs:{rowspan:"2"}},[s("a",{staticClass:"dropdown-toggle",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v("Почта")]),s("div",{staticClass:"dropdown-menu dropdown-menu-right",attrs:{"aria-labelledby":"dropdownMenuButton"}},[s("div",{staticClass:"dropdown-item"},[s("input",{attrs:{type:"checkbox",id:"card_email"},on:{click:function(e){return t.filter("card_email","card_email")}}}),t._v(" Все")]),t._l(t.card_email,(function(e,a){return s("div",{key:a},[s("div",{staticClass:"dropdown-item"},[s("input",{attrs:{type:"checkbox",id:"card_email."+a,checked:""},on:{click:function(e){return t.filter("card_email","card_email",a)}}}),t._v(" "+t._s(a))])])}))],2)]),s("th",{staticClass:"thead elmincentertop",attrs:{rowspan:"2"}})]),s("tr",{staticClass:"trstyle"},[s("th",{staticClass:"thead elmincentertop"},[s("a",{staticClass:"dropdown-toggle",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v("2021")]),s("div",{staticClass:"dropdown-menu dropdown-menu-right",attrs:{"aria-labelledby":"dropdownMenuButton"}},[s("div",{staticClass:"dropdown-item"},[s("input",{attrs:{type:"checkbox",id:"need_2021"},on:{click:function(e){return t.filter("need_2021","need_2021")}}}),t._v(" Все")]),t._l(t.need_2021,(function(e,a){return s("div",{key:a},[s("div",{staticClass:"dropdown-item"},[s("input",{attrs:{type:"checkbox",id:"need_2021."+a,checked:""},on:{click:function(e){return t.filter("need_2021","need_2021",a)}}}),t._v(" "+t._s(a))])])}))],2)]),s("th",{staticClass:"thead elmincentertop"},[s("a",{staticClass:"dropdown-toggle",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v("2022")]),s("div",{staticClass:"dropdown-menu dropdown-menu-right",attrs:{"aria-labelledby":"dropdownMenuButton"}},[s("div",{staticClass:"dropdown-item"},[s("input",{attrs:{type:"checkbox",id:"need_2022"},on:{click:function(e){return t.filter("need_2022","need_2022")}}}),t._v(" Все")]),t._l(t.need_2022,(function(e,a){return s("div",{key:a},[s("div",{staticClass:"dropdown-item"},[s("input",{attrs:{type:"checkbox",id:"need_2022."+a,checked:""},on:{click:function(e){return t.filter("need_2022","need_2022",a)}}}),t._v(" "+t._s(a))])])}))],2)]),s("th",{staticClass:"thead elmincentertop"},[s("a",{staticClass:"dropdown-toggle",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v("2023")]),s("div",{staticClass:"dropdown-menu dropdown-menu-right",attrs:{"aria-labelledby":"dropdownMenuButton"}},[s("div",{staticClass:"dropdown-item"},[s("input",{attrs:{type:"checkbox",id:"need_2023"},on:{click:function(e){return t.filter("need_2023","need_2023")}}}),t._v(" Все")]),t._l(t.need_2023,(function(e,a){return s("div",{key:a},[s("div",{staticClass:"dropdown-item"},[s("input",{attrs:{type:"checkbox",id:"need_2023."+a,checked:""},on:{click:function(e){return t.filter("need_2023","need_2023",a)}}}),t._v(" "+t._s(a))])])}))],2)]),s("th",{staticClass:"thead elmincentertop"},[t._m(5),s("div",{staticClass:"dropdown-menu dropdown-menu-right",attrs:{"aria-labelledby":"dropdownMenuButton"}},[s("div",{staticClass:"dropdown-item"},[s("input",{attrs:{type:"checkbox",id:"mtb_for_prepare"},on:{click:function(e){return t.filter("mtb_for_prepare","mtb_for_prepare")}}}),t._v(" Все")]),t._l(t.mtb_for_prepare,(function(e,a){return s("div",{key:a},[s("div",{staticClass:"dropdown-item"},[s("input",{attrs:{type:"checkbox",id:"mtb_for_prepare."+a,checked:""},on:{click:function(e){return t.filter("mtb_for_prepare","mtb_for_prepare",a)}}}),t._v(" "+t._s(a))])])}))],2)]),s("th",{staticClass:"thead elmincentertop"},[t._m(6),s("div",{staticClass:"dropdown-menu dropdown-menu-right",attrs:{"aria-labelledby":"dropdownMenuButton"}},[s("div",{staticClass:"dropdown-item"},[s("input",{attrs:{type:"checkbox",id:"make_mtb"},on:{click:function(e){return t.filter("make_mtb","make_mtb")}}}),t._v(" Все")]),t._l(t.make_mtb,(function(e,a){return s("div",{key:a},[s("div",{staticClass:"dropdown-item"},[s("input",{attrs:{type:"checkbox",id:"make_mtb."+a,checked:""},on:{click:function(e){return t.filter("make_mtb","make_mtb",a)}}}),t._v(" "+t._s(a))])])}))],2)])]),t._l(t.rows1,(function(e){return s("tr",{key:e,staticClass:"trstyle2",attrs:{id:e}},[15==t.step1[e][16]?s("td",{staticStyle:{padding:"0px"}},[s("textarea",{staticClass:"tinput",staticStyle:{width:"250px"},attrs:{type:"text",id:e+".1"},domProps:{value:t.step1[e][0]},on:{input:function(s){t.update_step1(e,1),t.change_width()}}})]):t._e(),15==t.step1[e][16]?s("td",{staticClass:"elmincenter",staticStyle:{padding:"0px"}},[s("textarea",{staticClass:"tinput",staticStyle:{width:"250px"},attrs:{type:"text",id:e+".2"},domProps:{value:t.step1[e][1]},on:{input:function(s){t.update_step1(e,2),t.change_width()}}})]):t._e(),15==t.step1[e][16]?s("td",{staticClass:"elmincenter",staticStyle:{padding:"0px"}},[s("textarea",{staticClass:"tinput",staticStyle:{width:"250px"},attrs:{type:"text",id:e+".3"},domProps:{value:t.step1[e][2]},on:{input:function(s){t.update_step1(e,3),t.change_width()}}})]):t._e(),15==t.step1[e][16]?s("td",{staticClass:"elmincenter",staticStyle:{padding:"0px"}},[s("textarea",{staticClass:"tinput",staticStyle:{width:"250px"},attrs:{type:"text",id:e+".4"},domProps:{value:t.step1[e][3]},on:{input:function(s){t.update_step1(e,4),t.change_width()}}})]):t._e(),15==t.step1[e][16]?s("td",{staticClass:"elmincenter",staticStyle:{padding:"0px"}},[s("textarea",{staticClass:"tinput",staticStyle:{width:"100px"},attrs:{type:"text",id:e+".5"},domProps:{value:t.step1[e][4]},on:{input:function(s){t.update_step1(e,5),t.change_width()}}})]):t._e(),15==t.step1[e][16]?s("td",{staticClass:"elmincenter",staticStyle:{padding:"0px"}},[s("textarea",{staticClass:"tinput",staticStyle:{width:"100px"},attrs:{type:"text",id:e+".6"},domProps:{value:t.step1[e][5]},on:{input:function(s){t.update_step1(e,6),t.change_width()}}})]):t._e(),15==t.step1[e][16]?s("td",{staticClass:"elmincenter",staticStyle:{padding:"0px"}},[s("textarea",{staticClass:"tinput",staticStyle:{width:"100px"},attrs:{type:"text",id:e+".7"},domProps:{value:t.step1[e][6]},on:{input:function(s){t.update_step1(e,7),t.change_width()}}})]):t._e(),15==t.step1[e][16]?s("td",{staticClass:"elmincenter",staticStyle:{padding:"0px"}},[s("textarea",{staticClass:"tinput",staticStyle:{width:"150px"},attrs:{type:"text",id:e+".8"},domProps:{value:t.step1[e][7]},on:{input:function(s){t.update_step1(e,8),t.change_width()}}})]):t._e(),15==t.step1[e][16]?s("td",{staticClass:"elmincenter",staticStyle:{padding:"0px"}},[s("textarea",{staticClass:"tinput",staticStyle:{width:"150px"},attrs:{type:"text",id:e+".9"},domProps:{value:t.step1[e][8]},on:{input:function(s){t.update_step1(e,9),t.change_width()}}})]):t._e(),15==t.step1[e][16]?s("td",{staticClass:"elmincenter",staticStyle:{padding:"0px"}},[s("textarea",{staticClass:"tinput",staticStyle:{width:"250px"},attrs:{type:"text",id:e+".10"},domProps:{value:t.step1[e][9]},on:{input:function(s){t.update_step1(e,10),t.change_width()}}})]):t._e(),15==t.step1[e][16]?s("td",{staticClass:"elmincenter",staticStyle:{padding:"0px"}},[s("textarea",{staticClass:"tinput",staticStyle:{width:"250px"},attrs:{type:"text",id:e+".11"},domProps:{value:t.step1[e][10]},on:{input:function(s){t.update_step1(e,11),t.change_width()}}})]):t._e(),15==t.step1[e][16]?s("td",{staticClass:"elmincenter",staticStyle:{padding:"0px"}},[s("textarea",{staticClass:"tinput",staticStyle:{width:"250px"},attrs:{type:"text",id:e+".12"},domProps:{value:t.step1[e][11]},on:{input:function(s){t.update_step1(e,12),t.change_width()}}})]):t._e(),15==t.step1[e][16]?s("td",{staticClass:"elmincenter",staticStyle:{padding:"0px"}},[s("textarea",{staticClass:"tinput",staticStyle:{width:"250px"},attrs:{type:"text",id:e+".13"},domProps:{value:t.step1[e][12]},on:{input:function(s){t.update_step1(e,13),t.change_width()}}})]):t._e(),15==t.step1[e][16]?s("td",{staticClass:"elmincenter",staticStyle:{padding:"0px"}},[s("textarea",{staticClass:"tinput",staticStyle:{width:"250px"},attrs:{type:"text",id:e+".14"},domProps:{value:t.step1[e][13]},on:{input:function(s){t.update_step1(e,14),t.change_width()}}})]):t._e(),15==t.step1[e][16]?s("td",{staticClass:"elmincenter",staticStyle:{padding:"0px"}},[s("textarea",{staticClass:"tinput",staticStyle:{width:"250px"},attrs:{type:"text",id:e+".15"},domProps:{value:t.step1[e][14]},on:{input:function(s){t.update_step1(e,15),t.change_width()}}})]):t._e(),15==t.step1[e][16]?s("td",{staticClass:"elmincenter",staticStyle:{padding:"0px"}},[s("textarea",{staticClass:"tinput",staticStyle:{width:"250px"},attrs:{type:"text",id:e+".16"},domProps:{value:t.step1[e][15]},on:{input:function(s){t.update_step1(e,16),t.change_width()}}})]):t._e(),15==t.step1[e][16]?s("td",[s("button",{staticClass:"delb",on:{click:function(s){return t.del_row(e)}}},[s("i",{staticClass:"fas fa-times"})])]):t._e()])}))],2)]):t._e(),s("br"),s("br"),s("br"),s("br"),s("div",{staticClass:"row buttons"},[s("div",{staticClass:"col-4"},[0!=t.step?s("button",{staticClass:"btn btn-elegant swb",staticStyle:{width:"100%"},on:{click:function(e){return t.change_step("-")}}},[t._v("Назад")]):t._e()]),s("div",{staticClass:"col-4"},[s("button",{staticClass:"btn btn-almbb-success swb",staticStyle:{width:"100%"},on:{click:function(e){return t.save()}}},[t._v("Сохранить")])]),s("div",{staticClass:"col-4"},[1!=t.step?s("button",{staticClass:"btn btn-blue swb",staticStyle:{width:"100%"},on:{click:function(e){return t.change_step("+")}}},[t._v("Далее")]):t._e()])])]):t._e()])},et=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("tr",{staticClass:"trstyle"},[s("th",{staticClass:"thead elmincentertop"},[t._v("Название карточки")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("a",{staticClass:"dropdown-toggle",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v("Наименование"),s("wbr"),t._v(" специальности /"),s("wbr"),t._v(" компетенции /"),s("wbr"),t._v(" заказчик")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("a",{staticClass:"dropdown-toggle",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v("Да/"),s("wbr"),t._v("нет/"),s("wbr"),t._v("эксперт/"),s("wbr"),t._v("количество")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("a",{staticClass:"dropdown-toggle",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v("Имеется"),s("wbr"),t._v(" ли"),s("wbr"),t._v(" корпоративная"),s("wbr"),t._v(" программа"),s("wbr"),t._v(" подготовки")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("a",{staticClass:"dropdown-toggle",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v("Город"),s("wbr"),t._v(" расположения"),s("wbr"),t._v(" организации")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("a",{staticClass:"dropdown-toggle",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v("Наличие"),s("wbr"),t._v(" МТБ"),s("wbr"),t._v(" для"),s("wbr"),t._v(" подготовки")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("a",{staticClass:"dropdown-toggle",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v("Сколько"),s("wbr"),t._v(" стоит"),s("wbr"),t._v(" создать"),s("wbr"),t._v(" МТБ")])}],st={name:"EditCard",data:function(){return{step:0,card_name:"",rows1:[],step1:[],companies:{},spheres:{},speciality_names:{},skill_levels:{},need_2021:{},need_2022:{},need_2023:{},y_n_expert_count:{},corp_prep_program:{},mtb_for_prepare:{},make_mtb:{},org_city:{},responsible_person:{},post:{},phone:{},card_email:{},email:this.$store.getters.email,SessionID:this.$store.getters.SessionID}},beforeMount:function(){var t=this;void 0!=this.email&&"admin"==this.email||(window.location.href="/login"),fetch(this.$store.state.serverIp+"/api/getAllData",{method:"POST",body:JSON.stringify({email:this.email,sessionid:this.SessionID}),headers:{"Content-Type":"application/json"}}).then((function(t){return t.json()})).then((function(e){for(var s=0,a=0;a<e.data.length;a++)if("company"==e.data[a].role)for(var i=0;i<e.data[a].data.rows1.length;i++)t.rows1.push(s),e.data[a].data.step1[i].unshift(e.data[a].data.sphere),e.data[a].data.step1[i].unshift(e.data[a].data.company),e.data[a].data.step1[i].push(e.data[a].data.org_city),e.data[a].data.step1[i].push(e.data[a].data.responsible_person),e.data[a].data.step1[i].push(e.data[a].data.post),e.data[a].data.step1[i].push(e.data[a].data.phone),e.data[a].data.step1[i].push(e.data[a].data.card_email),e.data[a].data.step1[i].push(15),t.step1.push(e.data[a].data.step1[i]),t.companies[e.data[a].data.company]?t.companies[e.data[a].data.company][1].push(s):t.companies[e.data[a].data.company]=[1,[s]],t.spheres[e.data[a].data.sphere]?t.spheres[e.data[a].data.sphere][1].push(s):t.spheres[e.data[a].data.sphere]=[1,[s]],t.speciality_names[e.data[a].data.step1[i][2]]?t.speciality_names[e.data[a].data.step1[i][2]][1].push(s):t.speciality_names[e.data[a].data.step1[i][2]]=[1,[s]],t.skill_levels[e.data[a].data.step1[i][3]]?t.skill_levels[e.data[a].data.step1[i][3]][1].push(s):t.skill_levels[e.data[a].data.step1[i][3]]=[1,[s]],t.need_2021[e.data[a].data.step1[i][4]]?t.need_2021[e.data[a].data.step1[i][4]][1].push(s):t.need_2021[e.data[a].data.step1[i][4]]=[1,[s]],t.need_2022[e.data[a].data.step1[i][5]]?t.need_2022[e.data[a].data.step1[i][5]][1].push(s):t.need_2022[e.data[a].data.step1[i][5]]=[1,[s]],t.need_2023[e.data[a].data.step1[i][6]]?t.need_2023[e.data[a].data.step1[i][6]][1].push(s):t.need_2023[e.data[a].data.step1[i][6]]=[1,[s]],t.y_n_expert_count[e.data[a].data.step1[i][7]]?t.y_n_expert_count[e.data[a].data.step1[i][7]][1].push(s):t.y_n_expert_count[e.data[a].data.step1[i][7]]=[1,[s]],t.corp_prep_program[e.data[a].data.step1[i][8]]?t.corp_prep_program[e.data[a].data.step1[i][8]][1].push(s):t.corp_prep_program[e.data[a].data.step1[i][8]]=[1,[s]],t.mtb_for_prepare[e.data[a].data.step1[i][9]]?t.mtb_for_prepare[e.data[a].data.step1[i][9]][1].push(s):t.mtb_for_prepare[e.data[a].data.step1[i][9]]=[1,[s]],t.make_mtb[e.data[a].data.step1[i][10]]?t.make_mtb[e.data[a].data.step1[i][10]][1].push(s):t.make_mtb[e.data[a].data.step1[i][10]]=[1,[s]],t.org_city[e.data[a].data.org_city]?t.org_city[e.data[a].data.org_city][1].push(s):t.org_city[e.data[a].data.org_city]=[1,[s]],t.responsible_person[e.data[a].data.responsible_person]?t.responsible_person[e.data[a].data.responsible_person][1].push(s):t.responsible_person[e.data[a].data.responsible_person]=[1,[s]],t.post[e.data[a].data.post]?t.post[e.data[a].data.post][1].push(s):t.post[e.data[a].data.post]=[1,[s]],t.phone[e.data[a].data.phone]?t.phone[e.data[a].data.phone][1].push(s):t.phone[e.data[a].data.phone]=[1,[s]],t.card_email[e.data[a].data.card_email]?t.card_email[e.data[a].data.card_email][1].push(s):t.card_email[e.data[a].data.card_email]=[1,[s]],s++;var n=setInterval((function(){if(document.getElementById(s-1+".9")){clearInterval(n);for(var e=0;e<s;e++)t.change_width(e)}}),100)})).catch((function(t){console.log(t)}))},methods:{del_row:function(t){var e=this;h.a.fire({text:"Вы уверены, что хотите удалить эту строку?",showCancelButton:!0,cancelButtonText:"Отмена",preConfirm:function(){e.rows1.splice(-1,1),e.step1.splice(t,1)}})},save:function(){var t=new Date;fetch(this.$store.state.serverIp+"/api/saveData",{method:"POST",body:JSON.stringify({email:this.email,sessionid:this.SessionID,role:this.email,data:{card_name:this.card_name,rows1:this.rows1,step1:this.step1,companies:this.companies,spheres:this.spheres,speciality_names:this.speciality_names,skill_levels:this.skill_levels,need_2021:this.need_2021,need_2022:this.need_2022,need_2023:this.need_2023,y_n_expert_count:this.y_n_expert_count,corp_prep_program:this.corp_prep_program,mtb_for_prepare:this.mtb_for_prepare,make_mtb:this.make_mtb,org_city:this.org_city,responsible_person:this.responsible_person,post:this.post,phone:this.phone,card_email:this.card_email,update_user:this.email,update_time:[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes()]}}),headers:{"Content-Type":"application/json"}}).then((function(t){return t.json()})).then((function(t){"310"==t.data?(document.cookie="email=;expires=Thu, 01 Jan 1970 00:00:01 GMT",document.cookie="SessionID=;expires=Thu, 01 Jan 1970 00:00:01 GMT",window.location.reload()):document.location.pathname="/edit-filter-card/"+t.data})).catch((function(t){console.log(t)}))},change_width:function(t){var e;e=void 0==t?event.target.id[0]:t;var s=document.getElementById(e+".1"),a=Math.max(Number(s.style.height.slice(0,-2)),s.scrollHeight),i=document.getElementById(e+".2"),n=Math.max(Number(i.style.height.slice(0,-2)),i.scrollHeight),o=document.getElementById(e+".3"),r=Math.max(Number(o.style.height.slice(0,-2)),o.scrollHeight),l=document.getElementById(e+".4"),d=Math.max(Number(l.style.height.slice(0,-2)),l.scrollHeight),c=document.getElementById(e+".5"),p=Math.max(Number(c.style.height.slice(0,-2)),c.scrollHeight),u=document.getElementById(e+".6"),h=Math.max(Number(u.style.height.slice(0,-2)),u.scrollHeight),m=document.getElementById(e+".7"),_=Math.max(Number(m.style.height.slice(0,-2)),m.scrollHeight),g=document.getElementById(e+".8"),v=Math.max(Number(g.style.height.slice(0,-2)),g.scrollHeight),f=document.getElementById(e+".9"),y=Math.max(Number(f.style.height.slice(0,-2)),f.scrollHeight),b=document.getElementById(e+".10"),w=Math.max(Number(b.style.height.slice(0,-2)),b.scrollHeight),C=document.getElementById(e+".11"),x=Math.max(Number(C.style.height.slice(0,-2)),C.scrollHeight),k=document.getElementById(e+".12"),S=Math.max(Number(k.style.height.slice(0,-2)),k.scrollHeight),I=document.getElementById(e+".13"),B=Math.max(Number(I.style.height.slice(0,-2)),I.scrollHeight),E=document.getElementById(e+".14"),M=Math.max(Number(E.style.height.slice(0,-2)),E.scrollHeight),T=document.getElementById(e+".15"),P=Math.max(Number(T.style.height.slice(0,-2)),T.scrollHeight),$=document.getElementById(e+".16"),H=Math.max(Number($.style.height.slice(0,-2)),$.scrollHeight),N=Math.max(a,n,r,d,p,h,_,v,y,w,x,S,B,M,P,H),D=[a,n,r,d,p,h,_,v,y,w,x,S,B,M,P,H],j=[s,i,o,l,c,u,m,g,f,b,C,k,I,E,T,$];if(event){if(document.getElementById(event.target.id).scrollHeight==N)for(var O=1;O<=16;O++)document.getElementById(e+"."+O).style.height=document.getElementById(event.target.id).scrollHeight+"px"}else for(var U=1;U<=16;U++)document.getElementById(e+"."+U).style.height=j[D.lastIndexOf(N)].scrollHeight+2+"px"},update_step1:function(t,e){this.step1[t][e-1]=document.getElementById(t+"."+e).value},filter:function(t,e,s){var a=this;if(void 0!=s){var i=document.getElementById(t+"."+s).checked,n=this[e][s][1];if(1==i){this[e][s][0]=1;for(var o=0;o<n.length;o++)this.$set(this.step1[n[o]],16,this.step1[n[o]][16]+1);var r=setInterval((function(){if(document.getElementById(n[n.length-1]+".1")){clearInterval(r);for(var t=0;t<n.length;t++)a.change_width(n[t])}}),100)}else{this[e][s][0]=0,document.getElementById(t).checked=!1;for(var l=0;l<n.length;l++)this.$set(this.step1[n[l]],16,this.step1[n[l]][16]-1)}}else{var d=document.getElementById(t).checked;if(d){var c=[];for(var p in this[e]){var u=document.getElementById(t+"."+p).checked;if(this[e][p][0]=1,!u)for(var h=this[e][p][1],m=0;m<h.length;m++)c.push(this.step1.lastIndexOf(this.step1[h[m]])),this.$set(this.step1[h[m]],16,this.step1[h[m]][16]+1);document.getElementById(t+"."+p).checked=!0}var _=setInterval((function(){if(document.getElementById(c[c.length-1]+".1")){clearInterval(_);for(var t=0;t<c.length;t++)a.change_width(c[t])}}),100)}else{for(var g=0;g<this.step1.length;g++)this.$set(this.step1[g],16,this.step1[g][16]-1);for(var v in this[e])document.getElementById(t+"."+v).checked=!1,this[e][v][0]=0}}},change_step:function(t){var e=this;if("-"==t?0!=this.step&&(this.step-=1):1!=this.step&&(this.step+=1),1==this.step){for(var s=[],a=0;a<this.step1.length;a++)15==this.step1[a][16]&&s.push(a);var i=setInterval((function(){if(document.getElementById(s[s.length-1]+".1")){clearInterval(i);for(var t=0;t<s.length;t++)e.change_width(s[t]);var a=["companies","spheres","speciality_names","skill_levels","need_2021","need_2022","need_2023","y_n_expert_count","corp_prep_program","mtb_for_prepare","make_mtb","org_city","responsible_person","post","phone","card_email"],n=["company","sphere","speciality_name","skill_level","need_2021","need_2022","need_2023","y_n_expert_count","corp_prep_program","mtb_for_prepare","make_mtb","org_city","responsible_person","post","phone","card_email"];for(var o in a)for(var r in e[a[o]])0==e[a[o]][r][0]&&(document.getElementById(n[o]+"."+r).checked=!1)}}),100)}},update_step0:function(){this.card_name=document.getElementById("1.1").value}}},at=st,it=(s("6836"),Object(g["a"])(at,tt,et,!1,null,"4d90f601",null)),nt=it.exports,ot=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"main"},["admin"==this.$store.getters.role?s("div",[0==t.step?s("table",{staticClass:"tb",attrs:{id:"table"}},[t._m(0),s("tr",{staticClass:"trstyle2"},[s("td",{staticClass:"elmincenter",staticStyle:{padding:"0px"}},[s("input",{staticClass:"tinput",attrs:{type:"text",id:"1.1"},domProps:{value:t.card_name},on:{input:function(e){return t.update_step0(1)}}})])])]):1==t.step?s("div",[s("table",{staticStyle:{width:"100%"},attrs:{id:"table2"}},[s("tr",{staticClass:"trstyle"},[s("th",{staticClass:"thead elmincentertop",attrs:{rowspan:"2"}},[s("a",{staticClass:"dropdown-toggle",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v("Название предприятия")]),s("div",{staticClass:"dropdown-menu dropdown-menu-right",attrs:{"aria-labelledby":"dropdownMenuButton"}},[s("div",{staticClass:"dropdown-item"},[s("input",{attrs:{type:"checkbox",id:"company"},on:{click:function(e){return t.filter("company","companies")}}}),t._v(" Все")]),t._l(t.companies,(function(e,a){return s("div",{key:a},[s("div",{staticClass:"dropdown-item"},[s("input",{attrs:{type:"checkbox",id:"company."+a,checked:""},on:{click:function(e){return t.filter("company","companies",a)}}}),t._v(" "+t._s(a))])])}))],2)]),s("th",{staticClass:"thead elmincentertop",attrs:{rowspan:"2"}},[s("a",{staticClass:"dropdown-toggle",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v("Сфера")]),s("div",{staticClass:"dropdown-menu dropdown-menu-right",attrs:{"aria-labelledby":"dropdownMenuButton"}},[s("div",{staticClass:"dropdown-item"},[s("input",{attrs:{type:"checkbox",id:"sphere"},on:{click:function(e){return t.filter("sphere","spheres")}}}),t._v(" Все")]),t._l(t.spheres,(function(e,a){return s("div",{key:a},[s("div",{staticClass:"dropdown-item"},[s("input",{attrs:{type:"checkbox",id:"sphere."+a,checked:""},on:{click:function(e){return t.filter("sphere","spheres",a)}}}),t._v(" "+t._s(a))])])}))],2)]),s("th",{staticClass:"thead",attrs:{rowspan:"2"}},[t._m(1),s("div",{staticClass:"dropdown-menu dropdown-menu-right",attrs:{"aria-labelledby":"dropdownMenuButton"}},[s("div",{staticClass:"dropdown-item"},[s("input",{attrs:{type:"checkbox",id:"speciality_name"},on:{click:function(e){return t.filter("speciality_name","speciality_names")}}}),t._v(" Все")]),t._l(t.speciality_names,(function(e,a){return s("div",{key:a},[s("div",{staticClass:"dropdown-item"},[s("input",{attrs:{type:"checkbox",id:"speciality_name."+a,checked:""},on:{click:function(e){return t.filter("speciality_name","speciality_names",a)}}}),t._v(" "+t._s(a))])])}))],2)]),s("th",{staticClass:"thead elmincentertop",attrs:{rowspan:"2"}},[s("a",{staticClass:"dropdown-toggle",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v("Уровень подготовки")]),s("div",{staticClass:"dropdown-menu dropdown-menu-right",attrs:{"aria-labelledby":"dropdownMenuButton"}},[s("div",{staticClass:"dropdown-item"},[s("input",{attrs:{type:"checkbox",id:"skill_level"},on:{click:function(e){return t.filter("skill_level","skill_levels")}}}),t._v(" Все")]),t._l(t.skill_levels,(function(e,a){return s("div",{key:a},[s("div",{staticClass:"dropdown-item"},[s("input",{attrs:{type:"checkbox",id:"skill_level."+a,checked:""},on:{click:function(e){return t.filter("skill_level","skill_levels",a)}}}),t._v(" "+t._s(a))])])}))],2)]),s("th",{staticClass:"thead elmincentertop",staticStyle:{"border-bottom":"2px solid #c8cccf"},attrs:{rowspan:"1",colspan:"3"}},[t._v("Потребность в подготовке")]),s("th",{staticClass:"thead elmincentertop",attrs:{rowspan:"2"}},[t._m(2),s("div",{staticClass:"dropdown-menu dropdown-menu-right",attrs:{"aria-labelledby":"dropdownMenuButton"}},[s("div",{staticClass:"dropdown-item"},[s("input",{attrs:{type:"checkbox",id:"y_n_expert_count"},on:{click:function(e){return t.filter("y_n_expert_count","y_n_expert_count")}}}),t._v(" Все")]),t._l(t.y_n_expert_count,(function(e,a){return s("div",{key:a},[s("div",{staticClass:"dropdown-item"},[s("input",{attrs:{type:"checkbox",id:"y_n_expert_count."+a,checked:""},on:{click:function(e){return t.filter("y_n_expert_count","y_n_expert_count",a)}}}),t._v(" "+t._s(a))])])}))],2)]),s("th",{staticClass:"thead elmincentertop",attrs:{rowspan:"2"}},[t._m(3),s("div",{staticClass:"dropdown-menu dropdown-menu-right",attrs:{"aria-labelledby":"dropdownMenuButton"}},[s("div",{staticClass:"dropdown-item"},[s("input",{attrs:{type:"checkbox",id:"corp_prep_program"},on:{click:function(e){return t.filter("corp_prep_program","corp_prep_program")}}}),t._v(" Все")]),t._l(t.corp_prep_program,(function(e,a){return s("div",{key:a},[s("div",{staticClass:"dropdown-item"},[s("input",{attrs:{type:"checkbox",id:"corp_prep_program."+a,checked:""},on:{click:function(e){return t.filter("corp_prep_program","corp_prep_program",a)}}}),t._v(" "+t._s(a))])])}))],2)]),s("th",{staticClass:"thead elmincentertop",staticStyle:{"border-bottom":"2px solid #c8cccf"},attrs:{rowspan:"1",colspan:"2"}},[t._v("Материально техническая база (МТБ)")]),s("th",{staticClass:"thead elmincentertop",attrs:{rowspan:"2"}},[t._m(4),s("div",{staticClass:"dropdown-menu dropdown-menu-right",attrs:{"aria-labelledby":"dropdownMenuButton"}},[s("div",{staticClass:"dropdown-item"},[s("input",{attrs:{type:"checkbox",id:"org_city"},on:{click:function(e){return t.filter("org_city","org_city")}}}),t._v(" Все")]),t._l(t.org_city,(function(e,a){return s("div",{key:a},[s("div",{staticClass:"dropdown-item"},[s("input",{attrs:{type:"checkbox",id:"org_city."+a,checked:""},on:{click:function(e){return t.filter("org_city","org_city",a)}}}),t._v(" "+t._s(a))])])}))],2)]),s("th",{staticClass:"thead elmincentertop",attrs:{rowspan:"2"}},[s("a",{staticClass:"dropdown-toggle",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v("ФИО ответственного")]),s("div",{staticClass:"dropdown-menu dropdown-menu-right",attrs:{"aria-labelledby":"dropdownMenuButton"}},[s("div",{staticClass:"dropdown-item"},[s("input",{attrs:{type:"checkbox",id:"responsible_person"},on:{click:function(e){return t.filter("responsible_person","responsible_person")}}}),t._v(" Все")]),t._l(t.responsible_person,(function(e,a){return s("div",{key:a},[s("div",{staticClass:"dropdown-item"},[s("input",{attrs:{type:"checkbox",id:"responsible_person."+a,checked:""},on:{click:function(e){return t.filter("responsible_person","responsible_person",a)}}}),t._v(" "+t._s(a))])])}))],2)]),s("th",{staticClass:"thead elmincentertop",attrs:{rowspan:"2"}},[s("a",{staticClass:"dropdown-toggle",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v("Должность")]),s("div",{staticClass:"dropdown-menu dropdown-menu-right",attrs:{"aria-labelledby":"dropdownMenuButton"}},[s("div",{staticClass:"dropdown-item"},[s("input",{attrs:{type:"checkbox",id:"post"},on:{click:function(e){return t.filter("post","post")}}}),t._v(" Все")]),t._l(t.post,(function(e,a){return s("div",{key:a},[s("div",{staticClass:"dropdown-item"},[s("input",{attrs:{type:"checkbox",id:"post."+a,checked:""},on:{click:function(e){return t.filter("post","post",a)}}}),t._v(" "+t._s(a))])])}))],2)]),s("th",{staticClass:"thead elmincentertop",attrs:{rowspan:"2"}},[s("a",{staticClass:"dropdown-toggle",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v("Телефон")]),s("div",{staticClass:"dropdown-menu dropdown-menu-right",attrs:{"aria-labelledby":"dropdownMenuButton"}},[s("div",{staticClass:"dropdown-item"},[s("input",{attrs:{type:"checkbox",id:"phone"},on:{click:function(e){return t.filter("phone","phone")}}}),t._v(" Все")]),t._l(t.phone,(function(e,a){return s("div",{key:a},[s("div",{staticClass:"dropdown-item"},[s("input",{attrs:{type:"checkbox",id:"phone."+a,checked:""},on:{click:function(e){return t.filter("phone","phone",a)}}}),t._v(" "+t._s(a))])])}))],2)]),s("th",{staticClass:"thead elmincentertop",attrs:{rowspan:"2"}},[s("a",{staticClass:"dropdown-toggle",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v("Почта")]),s("div",{staticClass:"dropdown-menu dropdown-menu-right",attrs:{"aria-labelledby":"dropdownMenuButton"}},[s("div",{staticClass:"dropdown-item"},[s("input",{attrs:{type:"checkbox",id:"card_email"},on:{click:function(e){return t.filter("card_email","card_email")}}}),t._v(" Все")]),t._l(t.card_email,(function(e,a){return s("div",{key:a},[s("div",{staticClass:"dropdown-item"},[s("input",{attrs:{type:"checkbox",id:"card_email."+a,checked:""},on:{click:function(e){return t.filter("card_email","card_email",a)}}}),t._v(" "+t._s(a))])])}))],2)]),s("th",{staticClass:"thead elmincentertop",attrs:{rowspan:"2"}})]),s("tr",{staticClass:"trstyle"},[s("th",{staticClass:"thead elmincentertop"},[s("a",{staticClass:"dropdown-toggle",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v("2021")]),s("div",{staticClass:"dropdown-menu dropdown-menu-right",attrs:{"aria-labelledby":"dropdownMenuButton"}},[s("div",{staticClass:"dropdown-item"},[s("input",{attrs:{type:"checkbox",id:"need_2021"},on:{click:function(e){return t.filter("need_2021","need_2021")}}}),t._v(" Все")]),t._l(t.need_2021,(function(e,a){return s("div",{key:a},[s("div",{staticClass:"dropdown-item"},[s("input",{attrs:{type:"checkbox",id:"need_2021."+a,checked:""},on:{click:function(e){return t.filter("need_2021","need_2021",a)}}}),t._v(" "+t._s(a))])])}))],2)]),s("th",{staticClass:"thead elmincentertop"},[s("a",{staticClass:"dropdown-toggle",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v("2022")]),s("div",{staticClass:"dropdown-menu dropdown-menu-right",attrs:{"aria-labelledby":"dropdownMenuButton"}},[s("div",{staticClass:"dropdown-item"},[s("input",{attrs:{type:"checkbox",id:"need_2022"},on:{click:function(e){return t.filter("need_2022","need_2022")}}}),t._v(" Все")]),t._l(t.need_2022,(function(e,a){return s("div",{key:a},[s("div",{staticClass:"dropdown-item"},[s("input",{attrs:{type:"checkbox",id:"need_2022."+a,checked:""},on:{click:function(e){return t.filter("need_2022","need_2022",a)}}}),t._v(" "+t._s(a))])])}))],2)]),s("th",{staticClass:"thead elmincentertop"},[s("a",{staticClass:"dropdown-toggle",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v("2023")]),s("div",{staticClass:"dropdown-menu dropdown-menu-right",attrs:{"aria-labelledby":"dropdownMenuButton"}},[s("div",{staticClass:"dropdown-item"},[s("input",{attrs:{type:"checkbox",id:"need_2023"},on:{click:function(e){return t.filter("need_2023","need_2023")}}}),t._v(" Все")]),t._l(t.need_2023,(function(e,a){return s("div",{key:a},[s("div",{staticClass:"dropdown-item"},[s("input",{attrs:{type:"checkbox",id:"need_2023."+a,checked:""},on:{click:function(e){return t.filter("need_2023","need_2023",a)}}}),t._v(" "+t._s(a))])])}))],2)]),s("th",{staticClass:"thead elmincentertop"},[t._m(5),s("div",{staticClass:"dropdown-menu dropdown-menu-right",attrs:{"aria-labelledby":"dropdownMenuButton"}},[s("div",{staticClass:"dropdown-item"},[s("input",{attrs:{type:"checkbox",id:"mtb_for_prepare"},on:{click:function(e){return t.filter("mtb_for_prepare","mtb_for_prepare")}}}),t._v(" Все")]),t._l(t.mtb_for_prepare,(function(e,a){return s("div",{key:a},[s("div",{staticClass:"dropdown-item"},[s("input",{attrs:{type:"checkbox",id:"mtb_for_prepare."+a,checked:""},on:{click:function(e){return t.filter("mtb_for_prepare","mtb_for_prepare",a)}}}),t._v(" "+t._s(a))])])}))],2)]),s("th",{staticClass:"thead elmincentertop"},[t._m(6),s("div",{staticClass:"dropdown-menu dropdown-menu-right",attrs:{"aria-labelledby":"dropdownMenuButton"}},[s("div",{staticClass:"dropdown-item"},[s("input",{attrs:{type:"checkbox",id:"make_mtb"},on:{click:function(e){return t.filter("make_mtb","make_mtb")}}}),t._v(" Все")]),t._l(t.make_mtb,(function(e,a){return s("div",{key:a},[s("div",{staticClass:"dropdown-item"},[s("input",{attrs:{type:"checkbox",id:"make_mtb."+a,checked:""},on:{click:function(e){return t.filter("make_mtb","make_mtb",a)}}}),t._v(" "+t._s(a))])])}))],2)])]),t._l(t.rows1,(function(e){return s("tr",{key:e,staticClass:"trstyle2",attrs:{id:e}},[15==t.step1[e][16]?s("td",{staticStyle:{padding:"0px"}},[s("textarea",{staticClass:"tinput",staticStyle:{width:"250px"},attrs:{type:"text",id:e+".1"},domProps:{value:t.step1[e][0]},on:{input:function(s){t.update_step1(e,1),t.change_width()}}})]):t._e(),15==t.step1[e][16]?s("td",{staticClass:"elmincenter",staticStyle:{padding:"0px"}},[s("textarea",{staticClass:"tinput",staticStyle:{width:"250px"},attrs:{type:"text",id:e+".2"},domProps:{value:t.step1[e][1]},on:{input:function(s){t.update_step1(e,2),t.change_width()}}})]):t._e(),15==t.step1[e][16]?s("td",{staticClass:"elmincenter",staticStyle:{padding:"0px"}},[s("textarea",{staticClass:"tinput",staticStyle:{width:"250px"},attrs:{type:"text",id:e+".3"},domProps:{value:t.step1[e][2]},on:{input:function(s){t.update_step1(e,3),t.change_width()}}})]):t._e(),15==t.step1[e][16]?s("td",{staticClass:"elmincenter",staticStyle:{padding:"0px"}},[s("textarea",{staticClass:"tinput",staticStyle:{width:"250px"},attrs:{type:"text",id:e+".4"},domProps:{value:t.step1[e][3]},on:{input:function(s){t.update_step1(e,4),t.change_width()}}})]):t._e(),15==t.step1[e][16]?s("td",{staticClass:"elmincenter",staticStyle:{padding:"0px"}},[s("textarea",{staticClass:"tinput",staticStyle:{width:"100px"},attrs:{type:"text",id:e+".5"},domProps:{value:t.step1[e][4]},on:{input:function(s){t.update_step1(e,5),t.change_width()}}})]):t._e(),15==t.step1[e][16]?s("td",{staticClass:"elmincenter",staticStyle:{padding:"0px"}},[s("textarea",{staticClass:"tinput",staticStyle:{width:"100px"},attrs:{type:"text",id:e+".6"},domProps:{value:t.step1[e][5]},on:{input:function(s){t.update_step1(e,6),t.change_width()}}})]):t._e(),15==t.step1[e][16]?s("td",{staticClass:"elmincenter",staticStyle:{padding:"0px"}},[s("textarea",{staticClass:"tinput",staticStyle:{width:"100px"},attrs:{type:"text",id:e+".7"},domProps:{value:t.step1[e][6]},on:{input:function(s){t.update_step1(e,7),t.change_width()}}})]):t._e(),15==t.step1[e][16]?s("td",{staticClass:"elmincenter",staticStyle:{padding:"0px"}},[s("textarea",{staticClass:"tinput",staticStyle:{width:"150px"},attrs:{type:"text",id:e+".8"},domProps:{value:t.step1[e][7]},on:{input:function(s){t.update_step1(e,8),t.change_width()}}})]):t._e(),15==t.step1[e][16]?s("td",{staticClass:"elmincenter",staticStyle:{padding:"0px"}},[s("textarea",{staticClass:"tinput",staticStyle:{width:"150px"},attrs:{type:"text",id:e+".9"},domProps:{value:t.step1[e][8]},on:{input:function(s){t.update_step1(e,9),t.change_width()}}})]):t._e(),15==t.step1[e][16]?s("td",{staticClass:"elmincenter",staticStyle:{padding:"0px"}},[s("textarea",{staticClass:"tinput",staticStyle:{width:"250px"},attrs:{type:"text",id:e+".10"},domProps:{value:t.step1[e][9]},on:{input:function(s){t.update_step1(e,10),t.change_width()}}})]):t._e(),15==t.step1[e][16]?s("td",{staticClass:"elmincenter",staticStyle:{padding:"0px"}},[s("textarea",{staticClass:"tinput",staticStyle:{width:"250px"},attrs:{type:"text",id:e+".11"},domProps:{value:t.step1[e][10]},on:{input:function(s){t.update_step1(e,11),t.change_width()}}})]):t._e(),15==t.step1[e][16]?s("td",{staticClass:"elmincenter",staticStyle:{padding:"0px"}},[s("textarea",{staticClass:"tinput",staticStyle:{width:"250px"},attrs:{type:"text",id:e+".12"},domProps:{value:t.step1[e][11]},on:{input:function(s){t.update_step1(e,12),t.change_width()}}})]):t._e(),15==t.step1[e][16]?s("td",{staticClass:"elmincenter",staticStyle:{padding:"0px"}},[s("textarea",{staticClass:"tinput",staticStyle:{width:"250px"},attrs:{type:"text",id:e+".13"},domProps:{value:t.step1[e][12]},on:{input:function(s){t.update_step1(e,13),t.change_width()}}})]):t._e(),15==t.step1[e][16]?s("td",{staticClass:"elmincenter",staticStyle:{padding:"0px"}},[s("textarea",{staticClass:"tinput",staticStyle:{width:"250px"},attrs:{type:"text",id:e+".14"},domProps:{value:t.step1[e][13]},on:{input:function(s){t.update_step1(e,14),t.change_width()}}})]):t._e(),15==t.step1[e][16]?s("td",{staticClass:"elmincenter",staticStyle:{padding:"0px"}},[s("textarea",{staticClass:"tinput",staticStyle:{width:"250px"},attrs:{type:"text",id:e+".15"},domProps:{value:t.step1[e][14]},on:{input:function(s){t.update_step1(e,15),t.change_width()}}})]):t._e(),15==t.step1[e][16]?s("td",{staticClass:"elmincenter",staticStyle:{padding:"0px"}},[s("textarea",{staticClass:"tinput",staticStyle:{width:"250px"},attrs:{type:"text",id:e+".16"},domProps:{value:t.step1[e][15]},on:{input:function(s){t.update_step1(e,16),t.change_width()}}})]):t._e(),15==t.step1[e][16]?s("td",[s("button",{staticClass:"delb",on:{click:function(s){return t.del_row(e)}}},[s("i",{staticClass:"fas fa-times"})])]):t._e()])}))],2)]):t._e(),s("br"),s("br"),s("br"),s("br"),s("div",{staticClass:"row buttons"},[s("div",{staticClass:"col-4"},[0!=t.step?s("button",{staticClass:"btn btn-elegant swb",staticStyle:{width:"100%"},on:{click:function(e){return t.change_step("-")}}},[t._v("Назад")]):t._e()]),s("div",{staticClass:"col-4"},[s("button",{staticClass:"btn btn-almbb-success swb",staticStyle:{width:"100%"},on:{click:function(e){return t.save()}}},[t._v("Сохранить")])]),s("div",{staticClass:"col-4"},[1!=t.step?s("button",{staticClass:"btn btn-blue swb",staticStyle:{width:"100%"},on:{click:function(e){return t.change_step("+")}}},[t._v("Далее")]):t._e()])])]):t._e()])},rt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("tr",{staticClass:"trstyle"},[s("th",{staticClass:"thead elmincentertop"},[t._v("Название карточки")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("a",{staticClass:"dropdown-toggle",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v("Наименование"),s("wbr"),t._v(" специальности /"),s("wbr"),t._v(" компетенции /"),s("wbr"),t._v(" заказчик")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("a",{staticClass:"dropdown-toggle",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v("Да/"),s("wbr"),t._v("нет/"),s("wbr"),t._v("эксперт/"),s("wbr"),t._v("количество")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("a",{staticClass:"dropdown-toggle",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v("Имеется"),s("wbr"),t._v(" ли"),s("wbr"),t._v(" корпоративная"),s("wbr"),t._v(" программа"),s("wbr"),t._v(" подготовки")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("a",{staticClass:"dropdown-toggle",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v("Город"),s("wbr"),t._v(" расположения"),s("wbr"),t._v(" организации")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("a",{staticClass:"dropdown-toggle",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v("Наличие"),s("wbr"),t._v(" МТБ"),s("wbr"),t._v(" для"),s("wbr"),t._v(" подготовки")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("a",{staticClass:"dropdown-toggle",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v("Сколько"),s("wbr"),t._v(" стоит"),s("wbr"),t._v(" создать"),s("wbr"),t._v(" МТБ")])}],lt={name:"EditCard",data:function(){return{step:0,card_name:"",rows1:[],step1:[],companies:{},spheres:{},speciality_names:{},skill_levels:{},need_2021:{},need_2022:{},need_2023:{},y_n_expert_count:{},corp_prep_program:{},mtb_for_prepare:{},make_mtb:{},org_city:{},responsible_person:{},post:{},phone:{},card_email:{},email:this.$store.getters.email,SessionID:this.$store.getters.SessionID,id:this.$route.params.id}},beforeMount:function(){var t=this;void 0!=this.email&&"admin"==this.email||(window.location.href="/login"),fetch(this.$store.state.serverIp+"/api/getData",{method:"POST",body:JSON.stringify({email:this.email,sessionid:this.SessionID,tableid:this.id}),headers:{"Content-Type":"application/json"}}).then((function(t){return t.json()})).then((function(e){t.card_name=e.data.data.card_name,t.rows1=e.data.data.rows1,t.step1=e.data.data.step1,t.companies=e.data.data.companies,t.spheres=e.data.data.spheres,t.speciality_names=e.data.data.speciality_names,t.skill_levels=e.data.data.skill_levels,t.need_2021=e.data.data.need_2021,t.need_2022=e.data.data.need_2022,t.need_2023=e.data.data.need_2023,t.y_n_expert_count=e.data.data.y_n_expert_count,t.corp_prep_program=e.data.data.corp_prep_program,t.mtb_for_prepare=e.data.data.mtb_for_prepare,t.make_mtb=e.data.data.make_mtb,t.org_city=e.data.data.org_city,t.responsible_person=e.data.data.responsible_person,t.post=e.data.data.post,t.phone=e.data.data.phone,t.card_email=e.data.data.card_email})).catch((function(t){console.log(t)}))},beforeDestroy:function(){if(confirm("Сохранить изменения?")){var t=new Date;fetch(this.$store.state.serverIp+"/api/updateData",{method:"POST",body:JSON.stringify({email:this.email,sessionid:this.SessionID,tableid:this.id,data:{card_name:this.card_name,rows1:this.rows1,step1:this.step1,companies:this.companies,spheres:this.spheres,speciality_names:this.speciality_names,skill_levels:this.skill_levels,need_2021:this.need_2021,need_2022:this.need_2022,need_2023:this.need_2023,y_n_expert_count:this.y_n_expert_count,corp_prep_program:this.corp_prep_program,mtb_for_prepare:this.mtb_for_prepare,make_mtb:this.make_mtb,org_city:this.org_city,responsible_person:this.responsible_person,post:this.post,phone:this.phone,card_email:this.card_email,update_user:this.email,update_time:[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes()]}}),headers:{"Content-Type":"application/json"}}).then((function(t){return t.json()})).then((function(t){"310"==t.data&&(document.cookie="email=;expires=Thu, 01 Jan 1970 00:00:01 GMT",document.cookie="SessionID=;expires=Thu, 01 Jan 1970 00:00:01 GMT",window.location.reload())})).catch((function(t){console.log(t)}))}},methods:{del_row:function(t){var e=this;h.a.fire({text:"Вы уверены, что хотите удалить эту строку?",showCancelButton:!0,cancelButtonText:"Отмена",preConfirm:function(){e.rows1.splice(-1,1),e.step1.splice(t,1)}})},save:function(){var t=new Date;fetch(this.$store.state.serverIp+"/api/updateData",{method:"POST",body:JSON.stringify({email:this.email,sessionid:this.SessionID,tableid:this.id,data:{card_name:this.card_name,rows1:this.rows1,step1:this.step1,companies:this.companies,spheres:this.spheres,speciality_names:this.speciality_names,skill_levels:this.skill_levels,need_2021:this.need_2021,need_2022:this.need_2022,need_2023:this.need_2023,y_n_expert_count:this.y_n_expert_count,corp_prep_program:this.corp_prep_program,mtb_for_prepare:this.mtb_for_prepare,make_mtb:this.make_mtb,org_city:this.org_city,responsible_person:this.responsible_person,post:this.post,phone:this.phone,card_email:this.card_email,update_user:this.email,update_time:[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes()]}}),headers:{"Content-Type":"application/json"}}).then((function(t){return t.json()})).then((function(t){"310"==t.data?(document.cookie="email=;expires=Thu, 01 Jan 1970 00:00:01 GMT",document.cookie="SessionID=;expires=Thu, 01 Jan 1970 00:00:01 GMT",window.location.reload()):h.a.fire({icon:"success",text:"Файл успешно обновлен",showConfirmButton:!1,timer:1500})})).catch((function(t){console.log(t)}))},change_width:function(t){var e;e=void 0==t?event.target.id[0]:t;var s=document.getElementById(e+".1"),a=Math.max(Number(s.style.height.slice(0,-2)),s.scrollHeight),i=document.getElementById(e+".2"),n=Math.max(Number(i.style.height.slice(0,-2)),i.scrollHeight),o=document.getElementById(e+".3"),r=Math.max(Number(o.style.height.slice(0,-2)),o.scrollHeight),l=document.getElementById(e+".4"),d=Math.max(Number(l.style.height.slice(0,-2)),l.scrollHeight),c=document.getElementById(e+".5"),p=Math.max(Number(c.style.height.slice(0,-2)),c.scrollHeight),u=document.getElementById(e+".6"),h=Math.max(Number(u.style.height.slice(0,-2)),u.scrollHeight),m=document.getElementById(e+".7"),_=Math.max(Number(m.style.height.slice(0,-2)),m.scrollHeight),g=document.getElementById(e+".8"),v=Math.max(Number(g.style.height.slice(0,-2)),g.scrollHeight),f=document.getElementById(e+".9"),y=Math.max(Number(f.style.height.slice(0,-2)),f.scrollHeight),b=document.getElementById(e+".10"),w=Math.max(Number(b.style.height.slice(0,-2)),b.scrollHeight),C=document.getElementById(e+".11"),x=Math.max(Number(C.style.height.slice(0,-2)),C.scrollHeight),k=document.getElementById(e+".12"),S=Math.max(Number(k.style.height.slice(0,-2)),k.scrollHeight),I=document.getElementById(e+".13"),B=Math.max(Number(I.style.height.slice(0,-2)),I.scrollHeight),E=document.getElementById(e+".14"),M=Math.max(Number(E.style.height.slice(0,-2)),E.scrollHeight),T=document.getElementById(e+".15"),P=Math.max(Number(T.style.height.slice(0,-2)),T.scrollHeight),$=document.getElementById(e+".16"),H=Math.max(Number($.style.height.slice(0,-2)),$.scrollHeight),N=Math.max(a,n,r,d,p,h,_,v,y,w,x,S,B,M,P,H),D=[a,n,r,d,p,h,_,v,y,w,x,S,B,M,P,H],j=[s,i,o,l,c,u,m,g,f,b,C,k,I,E,T,$];if(event){if(document.getElementById(event.target.id).scrollHeight==N)for(var O=1;O<=16;O++)document.getElementById(e+"."+O).style.height=document.getElementById(event.target.id).scrollHeight+"px"}else{for(var U=1;U<=16;U++)document.getElementById(e+"."+U).style.height="auto";for(var J=1;J<=16;J++)document.getElementById(e+"."+J).style.height=j[D.lastIndexOf(N)].scrollHeight+2+"px"}},update_step1:function(t,e){this.step1[t][e-1]=document.getElementById(t+"."+e).value},filter:function(t,e,s){var a=this;if(void 0!=s){var i=document.getElementById(t+"."+s).checked,n=this[e][s][1];if(1==i){this[e][s][0]=1;for(var o=0;o<n.length;o++)this.$set(this.step1[n[o]],16,this.step1[n[o]][16]+1);var r=setInterval((function(){if(document.getElementById(n[n.length-1]+".1")){clearInterval(r);for(var t=0;t<n.length;t++)a.change_width(n[t])}}),100)}else{this[e][s][0]=0,document.getElementById(t).checked=!1;for(var l=0;l<n.length;l++)this.$set(this.step1[n[l]],16,this.step1[n[l]][16]-1)}}else{var d=document.getElementById(t).checked;if(d){var c=[];for(var p in this[e]){var u=document.getElementById(t+"."+p).checked;if(this[e][p][0]=1,!u)for(var h=this[e][p][1],m=0;m<h.length;m++)c.push(this.step1.lastIndexOf(this.step1[h[m]])),this.$set(this.step1[h[m]],16,this.step1[h[m]][16]+1);document.getElementById(t+"."+p).checked=!0}var _=setInterval((function(){if(document.getElementById(c[c.length-1]+".1")){clearInterval(_);for(var t=0;t<c.length;t++)a.change_width(c[t])}}),100)}else{for(var g=0;g<this.step1.length;g++)this.$set(this.step1[g],16,this.step1[g][16]-1);for(var v in this[e])document.getElementById(t+"."+v).checked=!1,this[e][v][0]=0}}},change_step:function(t){var e=this;if("-"==t?0!=this.step&&(this.step-=1):1!=this.step&&(this.step+=1),1==this.step){for(var s=[],a=0;a<this.step1.length;a++)15==this.step1[a][16]&&s.push(a);var i=setInterval((function(){if(document.getElementById(s[s.length-1]+".1")){clearInterval(i);for(var t=0;t<s.length;t++)e.change_width(s[t]);var a=["companies","spheres","speciality_names","skill_levels","need_2021","need_2022","need_2023","y_n_expert_count","corp_prep_program","mtb_for_prepare","make_mtb","org_city","responsible_person","post","phone","card_email"],n=["company","sphere","speciality_name","skill_level","need_2021","need_2022","need_2023","y_n_expert_count","corp_prep_program","mtb_for_prepare","make_mtb","org_city","responsible_person","post","phone","card_email"];for(var o in a)for(var r in e[a[o]])0==e[a[o]][r][0]&&(document.getElementById(n[o]+"."+r).checked=!1)}}),100)}},update_step0:function(){this.card_name=document.getElementById("1.1").value}}},dt=lt,ct=(s("db5c"),Object(g["a"])(dt,ot,rt,!1,null,"45420444",null)),pt=ct.exports,ut=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"main"},[s("div",{staticClass:"warp"},["admin"!=t.role?s("div",[s("h3",[t._v(t._s(t.no_admin_text))])]):s("div",{staticClass:"users block"},[s("h3",[t._v("Добавить пользователя:")]),s("form",{staticClass:"row justify-content-center"},[t._m(0),t._m(1),t._m(2),s("div",{staticClass:"col-2 col-md-1"},[s("button",{staticClass:"btn btn-red-orange btn-almbb-small",staticStyle:{"border-radius":"50%","font-size":"1.2em"},on:{click:function(e){return t.AddNewUser()}}},[s("i",{staticClass:"fas fa-plus"})])])]),s("hr"),t._l(t.users,(function(e,a){return s("div",{key:a,staticClass:"user row"},["metodist"==e.role?s("div",{staticClass:"email col-10 col-md-11"},[t._v(t._s(e.email)+" - Методист по сбору корпоративных стандартов")]):"company"==e.role?s("div",{staticClass:"email col-10 col-md-11"},[t._v(t._s(e.email)+" - Предприятие")]):t._e(),s("div",{staticClass:"col-2 col-md-1"},[s("button",{staticClass:"btn btn-almbb-small btn-almbb-danger",on:{click:function(s){return t.deleteUser(e.email,a)}}},[s("i",{staticClass:"fas fa-trash-alt"})])])])}))],2)]),s("div",{staticClass:"footer"},[s("Footer")],1)])},ht=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"form-group col-6 col-md-4"},[s("input",{staticClass:"form-control newUserEmail formInput",attrs:{type:"text",name:"newUserEmail",placeholder:"Логин"}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"form-group col-6 col-md-4"},[s("input",{staticClass:"form-control newUserPassword formInput",attrs:{type:"password",name:"newUserPassword",placeholder:"Пароль"}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"form-group col-10 col-md-3"},[s("select",{staticClass:"form-control formInput",staticStyle:{padding:"1px 7px"},attrs:{id:"role"}},[s("option",{attrs:{value:"choose_role",selected:""}},[t._v("Выберите роль")]),s("option",{attrs:{value:"metodist"}},[t._v("Методист по сбору корпоративных стандартов")]),s("option",{attrs:{value:"company"}},[t._v("Предприятие")])])])}],mt=(s("498a"),{name:"Admin",components:{Footer:P},data:function(){return{email:this.$store.getters.email,SessionID:this.$store.getters.SessionID,role:"",users:[],no_admin_text:""}},beforeMount:function(){var t=this;fetch(this.$store.state.serverIp+"/api/getInformation",{method:"POST",body:JSON.stringify({email:this.email,sessionid:this.SessionID}),headers:{"Content-Type":"application/json"}}).then((function(t){return t.json()})).then((function(e){"310"==e&&(document.cookie="email=;expires=Thu, 01 Jan 1970 00:00:01 GMT",document.cookie="SessionID=;expires=Thu, 01 Jan 1970 00:00:01 GMT",window.location.reload()),t.role=e.role,t.no_admin_text="Вы не являетесь администратором!"})).catch((function(t){console.log(t)})),fetch(this.$store.state.serverIp+"/api/getUserList",{method:"POST",body:JSON.stringify({email:this.email,sessionid:this.SessionID}),headers:{"Content-Type":"application/json"}}).then((function(t){return t.json()})).then((function(e){"310"==e&&(document.cookie="email=;expires=Thu, 01 Jan 1970 00:00:01 GMT",document.cookie="SessionID=;expires=Thu, 01 Jan 1970 00:00:01 GMT",window.location.reload()),t.users=e})).catch((function(t){console.log(t)}))},methods:{AddNewUser:function(){var t=this;event.preventDefault();var e=document.forms[0],s=e.elements.newUserEmail.value,a=e.elements.newUserPassword.value,i=e.elements.role.value;""==s?h.a.fire({icon:"error",title:"Введите логин"}):""==a.trim()?h.a.fire({icon:"error",title:"Введите пароль"}):"choose_role"==i?h.a.fire({icon:"error",title:"Выберите роль"}):fetch(this.$store.state.serverIp+"/api/regUser",{method:"POST",body:JSON.stringify({email:this.email,sessionid:this.SessionID,user:{email:s,password:a,role:i}}),headers:{"Content-Type":"application/json"}}).then((function(t){return t.json()})).then((function(e){"310"==e.data&&(document.cookie="email=;expires=Thu, 01 Jan 1970 00:00:01 GMT",document.cookie="SessionID=;expires=Thu, 01 Jan 1970 00:00:01 GMT",window.location.reload()),"Reg successful"==e.data?h.a.fire({icon:"success",title:"Пользователь успешно добавлен!",timer:1500,timerProgressBar:!0}).then((function(){t.users.push({email:s,role:i})})):"Reg Fail"==e.data&&h.a.fire({icon:"error",title:"Такой пользователь уже существует",timer:1500,timerProgressBar:!0})})).catch((function(t){console.log(t)}))},deleteUser:function(t,e){var s=this;fetch(this.$store.state.serverIp+"/api/delUser",{method:"POST",body:JSON.stringify({email:this.email,sessionid:this.SessionID,dopemail:t}),headers:{"Content-Type":"application/json"}}).then((function(t){return t.json()})).then((function(t){"310"==t.data&&(document.cookie="email=;expires=Thu, 01 Jan 1970 00:00:01 GMT",document.cookie="SessionID=;expires=Thu, 01 Jan 1970 00:00:01 GMT",window.location.reload()),"User undefined"==t.data&&h.a.fire({icon:"error",title:"Пользователь не найден!",timer:1500,timerProgressBar:!0}),"OK"==t.data&&h.a.fire({icon:"success",title:"Пользователь удален!",timer:1500,timerProgressBar:!0}).then((function(){s.$delete(s.users,e)}))})).catch((function(t){console.log(t)}))}}}),_t=mt,gt=(s("6ce3"),Object(g["a"])(_t,ut,ht,!1,null,"2ab964ed",null)),vt=gt.exports,ft=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"main"},[s("div",{staticClass:"container warp"},[s("div",{staticClass:"pblock"},[s("div",{staticClass:"email"},[t._v(t._s(t.email))]),s("br"),s("form",[t._m(0),t._m(1),t._m(2),s("div",{staticClass:"form-group"},[s("button",{staticClass:"btn btn-rounded-blue btn-lg",on:{click:function(e){return t.changePassword()}}},[t._v("Сохранить")])])])])]),s("div",{staticClass:"footer"},[s("Footer")],1)])},yt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"form-group row"},[s("div",{staticClass:"col-12"},[s("input",{staticClass:"form-control oldPassword formInput",attrs:{type:"password",name:"oldPassword",placeholder:"Старый пароль"}})])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"form-group row"},[s("div",{staticClass:"col-12"},[s("input",{staticClass:"form-control newPassword formInput",attrs:{type:"password",name:"newPassword",placeholder:"Новый пароль"}})])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"form-group row"},[s("div",{staticClass:"col-12"},[s("input",{staticClass:"form-control returnNewPassword formInput",attrs:{type:"password",name:"returnNewPassword",placeholder:"Повторите пароль"}})])])}],bt={components:{Footer:P},name:"Profile",data:function(){return{email:this.$store.getters.email,SessionID:this.$store.getters.SessionID}},beforeMount:function(){void 0==this.email&&(window.location.href="/login")},methods:{changePassword:function(){event.preventDefault();var t=document.forms[0],e=t.elements.oldPassword.value,s=t.elements.newPassword.value,a=t.elements.returnNewPassword.value;""==s.trim()?h.a.fire({icon:"error",title:"Введите пароль"}):""==a.trim()?h.a.fire({icon:"error",title:"Повторите пароль"}):s!=a?h.a.fire({icon:"error",text:"Пароли не совпадают"}):fetch(this.$store.state.serverIp+"/api/passUpdate",{method:"POST",body:JSON.stringify({email:this.email,sessionid:this.SessionID,newpass:s,oldpass:e}),headers:{"Content-Type":"application/json"}}).then((function(t){return t.json()})).then((function(t){"310"==t.data&&(document.cookie="email=;expires=Thu, 01 Jan 1970 00:00:01 GMT",document.cookie="SessionID=;expires=Thu, 01 Jan 1970 00:00:01 GMT",window.location.reload()),"Incorect password"==t.data&&h.a.fire({icon:"error",title:"Старый пароль введен не верно!",timer:1500,timerProgressBar:!0}),"OK"==t.data&&h.a.fire({icon:"success",title:"Пароль успешно сменен!",timer:1500,timerProgressBar:!0}).then((function(){window.location.reload()}))})).catch((function(t){console.log(t)}))}}},wt=bt,Ct=(s("3dcb"),Object(g["a"])(wt,ft,yt,!1,null,"b4ba5360",null)),xt=Ct.exports,kt=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},St=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main row justify-content-center"},[a("img",{attrs:{src:s("79b8")}}),a("img",{attrs:{src:s("79b8")}}),a("img",{attrs:{src:s("79b8")}}),a("img",{attrs:{src:s("79b8")}}),a("img",{attrs:{src:s("79b8")}}),a("img",{attrs:{src:s("79b8")}}),a("img",{attrs:{src:s("79b8")}}),a("img",{attrs:{src:s("79b8")}})])}],It={name:"Partners"},Bt=It,Et=(s("2a98"),Object(g["a"])(Bt,kt,St,!1,null,"6abe8cad",null)),Mt=Et.exports;a["a"].config.productionTip=!1,a["a"].use(i["a"]),a["a"].use(n["a"]);var Tt=[{path:"/login",component:D},{path:"/add-card",component:F},{path:"/filter-card",component:nt},{path:"/",component:Y},{path:"/edit-card/:id",component:Z},{path:"/edit-filter-card/:id",component:pt},{path:"/admin",component:vt},{path:"/profile",component:xt},{path:"/partners",component:Mt}],Pt=new i["a"]({mode:"history",routes:Tt}),$t=new n["a"].Store(o);new a["a"]({router:Pt,store:$t,render:function(t){return t(x)}}).$mount("#app")},"5c4e":function(t,e,s){},6836:function(t,e,s){"use strict";var a=s("d12f"),i=s.n(a);i.a},"6ce3":function(t,e,s){"use strict";var a=s("d8a4"),i=s.n(a);i.a},7211:function(t,e,s){"use strict";var a=s("9561"),i=s.n(a);i.a},"79b8":function(t,e,s){t.exports=s.p+"img/sakhalin_goverment.c96aa9f8.png"},"7ea4":function(t,e,s){"use strict";var a=s("bdb5"),i=s.n(a);i.a},"85ec":function(t,e,s){},9561:function(t,e,s){},"9bd8":function(t,e,s){"use strict";var a=s("5c4e"),i=s.n(a);i.a},a9fe:function(t,e,s){"use strict";var a=s("3e0b"),i=s.n(a);i.a},bdb5:function(t,e,s){},d12f:function(t,e,s){},d8a4:function(t,e,s){},db5c:function(t,e,s){"use strict";var a=s("2c5e"),i=s.n(a);i.a}});
//# sourceMappingURL=app.593dad7b.js.map